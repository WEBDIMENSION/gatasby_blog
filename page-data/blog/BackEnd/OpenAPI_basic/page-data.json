{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/BackEnd/OpenAPI_basic/",
    "result": {"data":{"site":{"siteMetadata":{"title":"おっさんWEBエンジニア奮闘記"}},"markdownRemark":{"id":"3258e002-0e2a-5dbd-970b-81dd9dbd0fe2","excerpt":"基本構造 field name Require discription openap YES セマンティックなバージョニングを記述する。今回は 3.0.0 を用いる。詳しくはドキュメントを参照。 info YES API のメタデータを記述する。 server  API…","html":"<h2>基本構造</h2>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">openapi</span><span class=\"token punctuation\">:</span> 3.0.0\n<span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">...</span>\n<span class=\"token key atrule\">servers</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">...</span>\n<span class=\"token key atrule\">paths</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">...</span>\n<span class=\"token key atrule\">components</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">...</span>\n<span class=\"token key atrule\">security</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">...</span>\n<span class=\"token key atrule\">tags</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">...</span>\n<span class=\"token key atrule\">externalDocs</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">...</span></code></pre></div>\n<table>\n<thead>\n<tr>\n<th>field name</th>\n<th>Require</th>\n<th>discription</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>openap</td>\n<td>YES</td>\n<td>セマンティックなバージョニングを記述する。今回は 3.0.0 を用いる。詳しくはドキュメントを参照。</td>\n</tr>\n<tr>\n<td>info</td>\n<td>YES</td>\n<td>API のメタデータを記述する。</td>\n</tr>\n<tr>\n<td>server</td>\n<td></td>\n<td>API を提供するサーバーを記述する。配列で複数記述可能(STG, PROD 等)。</td>\n</tr>\n<tr>\n<td>path</td>\n<td>YES</td>\n<td>API で利用可能なエンドポイントやメソッドを記述する。</td>\n</tr>\n<tr>\n<td>component</td>\n<td>YES</td>\n<td>API で使用するオブジェクトスキーマを記述する。</td>\n</tr>\n<tr>\n<td>securit</td>\n<td></td>\n<td>API 全体を通して使用可能なセキュリティ仕様を記述する。(OAuth 等)</td>\n</tr>\n<tr>\n<td>tag</td>\n<td></td>\n<td>API で使用されるタグのリスト。各種ツールによってパースされる際は、記述された順序で出力される。タグ名はユニークで無ければならない。</td>\n</tr>\n<tr>\n<td>externalDoc</td>\n<td></td>\n<td>外部ドキュメントを記述する(API 仕様書等)。</td>\n</tr>\n</tbody>\n</table>\n<h3>info</h3>\n<table>\n<thead>\n<tr>\n<th>field name</th>\n<th>Require</th>\n<th>discription</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>title</td>\n<td>YES</td>\n<td>API の名称。</td>\n</tr>\n<tr>\n<td>description</td>\n<td></td>\n<td>API の簡潔な説明。CommonMark シンタックスが使える。</td>\n</tr>\n<tr>\n<td>termsOfService</td>\n<td></td>\n<td>API の利用規約。URL 形式でなければならない。</td>\n</tr>\n<tr>\n<td>contact</td>\n<td></td>\n<td>コンタクト情報。(サポートページの URL やメールアドレス等)</td>\n</tr>\n<tr>\n<td>license</td>\n<td></td>\n<td>ライセンス情報。ライセンスページの URL も記述可能。</td>\n</tr>\n<tr>\n<td>version</td>\n<td>YES</td>\n<td>API ドキュメントのバージョン。</td>\n</tr>\n</tbody>\n</table>\n<h3>servers</h3>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">servers</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> http<span class=\"token punctuation\">:</span>//develop.local<span class=\"token punctuation\">:</span>8010/<span class=\"token punctuation\">{</span>api_version<span class=\"token punctuation\">}</span>\n    <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> Local API Server\n    <span class=\"token key atrule\">variables</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">api_version</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"v2\"</span>\n        <span class=\"token key atrule\">enum</span><span class=\"token punctuation\">:</span>\n          <span class=\"token punctuation\">-</span> <span class=\"token string\">\"v1\"</span>\n          <span class=\"token punctuation\">-</span> <span class=\"token string\">\"v2\"</span></code></pre></div>\n<table>\n<thead>\n<tr>\n<th>field name</th>\n<th>Require</th>\n<th>discription</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>url</td>\n<td>YES</td>\n<td>API サーバーの URL。</td>\n</tr>\n<tr>\n<td>description</td>\n<td></td>\n<td>API サーバーの説明。</td>\n</tr>\n<tr>\n<td>variable</td>\n<td></td>\n<td>API のバージョンなど</td>\n</tr>\n</tbody>\n</table>\n<h3>paths</h3>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">example.yaml\n<span class=\"token key atrule\">paths</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># paths オブジェクト</span>\n  <span class=\"token key atrule\">/users</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># path item オブジェクト</span>\n    <span class=\"token key atrule\">get</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># GET</span>\n      <span class=\"token comment\"># Operationオブジェクト</span>\n      <span class=\"token key atrule\">tags</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> users\n      <span class=\"token key atrule\">summary</span><span class=\"token punctuation\">:</span> Get all users.\n      <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> Returns an array of User model\n      <span class=\"token key atrule\">parameters</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">]</span>\n      <span class=\"token key atrule\">responses</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># レスポンス定義</span>\n        <span class=\"token key atrule\">'200'</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># HTTP status</span>\n          <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> A JSON array of User model\n          <span class=\"token key atrule\">content</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">application/json</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># レスポンスの形式指定</span>\n              <span class=\"token key atrule\">schema</span><span class=\"token punctuation\">:</span>\n                <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> array\n                <span class=\"token key atrule\">items</span><span class=\"token punctuation\">:</span>\n                  <span class=\"token key atrule\">$ref</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'#/components/schemas/User'</span> <span class=\"token comment\"># 参照するモデル</span>\n                <span class=\"token key atrule\">example</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># サンプルデータ</span>\n                  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n                    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> John Doe\n                  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span>\n                    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Jane Doe\n    <span class=\"token key atrule\">post</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># POST</span>\n      <span class=\"token key atrule\">tags</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> users\n      <span class=\"token key atrule\">summary</span><span class=\"token punctuation\">:</span> Create a new User\n      <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> Create a new User\n      <span class=\"token key atrule\">parameters</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">]</span>\n      <span class=\"token key atrule\">requestBody</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># リクエストボディ</span>\n        <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> user to create\n        <span class=\"token key atrule\">content</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">application/json</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">schema</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># POSTするオブジェクト</span>\n              <span class=\"token key atrule\">$ref</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'#/components/schemas/User'</span>\n            <span class=\"token key atrule\">example</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span>\n              <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Richard Roe\n      <span class=\"token key atrule\">responses</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">'201'</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> CREATED\n  /users/<span class=\"token punctuation\">{</span>userId<span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">get</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">tags</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> users\n      <span class=\"token key atrule\">summary</span><span class=\"token punctuation\">:</span> Get user by ID.\n      <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> Returns a single User model\n      <span class=\"token key atrule\">parameters</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># リクエストパラメータ</span>\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> userId\n          <span class=\"token key atrule\">in</span><span class=\"token punctuation\">:</span> path <span class=\"token comment\"># パラメータをパス内に含める</span>\n          <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> user id\n          <span class=\"token key atrule\">required</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n          <span class=\"token key atrule\">schema</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> integer\n      <span class=\"token key atrule\">responses</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">'200'</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> A single User model\n          <span class=\"token key atrule\">content</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">application/json</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">schema</span><span class=\"token punctuation\">:</span>\n                <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> object\n                <span class=\"token key atrule\">items</span><span class=\"token punctuation\">:</span>\n                  <span class=\"token key atrule\">$ref</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'#/components/schemas/User'</span>\n                <span class=\"token key atrule\">example</span><span class=\"token punctuation\">:</span>\n                  <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n                  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> John Doe</code></pre></div>\n<table>\n<thead>\n<tr>\n<th>field name</th>\n<th>discription</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>/{path}</td>\n<td>各エンドポイントのパスを記述する。servers で定義した URL にこのパスを結合したものが最終的なエンドポイントとなる。</td>\n</tr>\n</tbody>\n</table>\n<h4>path item</h4>\n<table>\n<thead>\n<tr>\n<th>field name</th>\n<th>discription</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>summary</td>\n<td>エンドポイントのサマリ。</td>\n</tr>\n<tr>\n<td>descriptions</td>\n<td>エンドポイントの簡潔な説明。CommonMark シンタックスを使用可能。</td>\n</tr>\n<tr>\n<td>get, post, delete…</td>\n<td>HTTP メソッドを定義。GET, PUT, POST, DELETE, OPTIONS, DELETE, PATCH, TRACE が使用可能。</td>\n</tr>\n</tbody>\n</table>\n<h3>components</h3>\n<ul>\n<li>schemas: User や Product 等のモデル</li>\n<li>requestBodies: リクエストボディ</li>\n<li>responses: API レスポンス</li>\n<li>headers: リクエストヘッダ</li>\n<li>parameters: リクエストパラメータ</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">components</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">schemas</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># スキーマオブジェクトの定義</span>\n    <span class=\"token key atrule\">User</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># モデル名</span>\n      <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> object <span class=\"token comment\"># 型</span>\n      <span class=\"token key atrule\">required</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># 必須フィールド</span>\n        <span class=\"token punctuation\">-</span> id\n      <span class=\"token key atrule\">properties</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># プロパティ名</span>\n          <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> integer <span class=\"token comment\"># 型</span>\n          <span class=\"token key atrule\">format</span><span class=\"token punctuation\">:</span> int64 <span class=\"token comment\"># フォーマット(int32, int64等)</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> string\n    <span class=\"token key atrule\">Product</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> object\n      <span class=\"token key atrule\">required</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> id\n        <span class=\"token punctuation\">-</span> price\n      <span class=\"token key atrule\">properties</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> integer\n          <span class=\"token key atrule\">format</span><span class=\"token punctuation\">:</span> int64\n          <span class=\"token key atrule\">example</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> string\n          <span class=\"token key atrule\">example</span><span class=\"token punctuation\">:</span> Laptop\n        <span class=\"token key atrule\">price</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> integer\n          <span class=\"token key atrule\">example</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1200</span></code></pre></div>\n<h3>security</h3>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">security</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># Non-OAuth setting</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">api_key</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  <span class=\"token comment\"># OAuth setting</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">users_auth</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> write<span class=\"token punctuation\">:</span>users\n      <span class=\"token punctuation\">-</span> read<span class=\"token punctuation\">:</span>users</code></pre></div>\n<h3>tags</h3>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">tags</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> users\n    <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> Access to Users\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> products\n    <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> Access to Products</code></pre></div>\n<table>\n<thead>\n<tr>\n<th>field name</th>\n<th>Require</th>\n<th>discription</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>name</td>\n<td>YES</td>\n<td>タグ名称。</td>\n</tr>\n<tr>\n<td>description</td>\n<td></td>\n<td>タグの説明。</td>\n</tr>\n<tr>\n<td>externalDocs</td>\n<td></td>\n<td>外部ドキュメント</td>\n</tr>\n</tbody>\n</table>\n<h3>externalDocs</h3>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> Find more info here\n<span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//example.com</code></pre></div>\n<p>| field name  | discription |\n| ----------- | ----------- | ------------------------ |\n| description |             | 外部ドキュメントの説明。 |\n| url         | YES         | 外部ドキュメントの URL。 |</p>","frontmatter":{"title":"OpenAPI の基本知識","date":"February 23, 2022","post_modified":"February 23, 2022","description":"脱エクセル、OpenAPIでAPI設計","tags":["API","OpenAPI","Docker","Docker-compose"],"draft":false}},"previous":{"fields":{"slug":"/Tools/Intellij/snippet/"},"frontmatter":{"title":"Intellij IDEA でスニペット作成"}},"next":{"fields":{"slug":"/BackEnd/OpenAPI/OpenAPI_GEnerator/"},"frontmatter":{"title":"OpenAPI-Generatorの環境をDockerで構築"}}},"pageContext":{"id":"3258e002-0e2a-5dbd-970b-81dd9dbd0fe2","previousPostId":"3ba1e3fc-2552-5977-a4db-81071ffa135b","nextPostId":"4a0342d3-56ac-59bb-ab95-f2b0e92ff1b2","draft":false}},
    "staticQueryHashes": ["1126706167","1176493165","1188992244","1314910092","1760060771","2772418575","3679674316"]}