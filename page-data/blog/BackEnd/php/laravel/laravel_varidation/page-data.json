{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/BackEnd/php/laravel/laravel_varidation/",
    "result": {"data":{"site":{"siteMetadata":{"title":"おっさんWEBエンジニア奮闘記"}},"markdownRemark":{"id":"b275491b-11c9-5648-a111-95ffeb00d3d9","excerpt":"Laravel Varidation Controler 内 Example login","html":"<h1>Laravel Varidation</h1>\n<p><em>Controler 内</em></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\">    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">function</span> <span class=\"token function-definition function\">validator</span><span class=\"token punctuation\">(</span><span class=\"token keyword type-hint\">array</span> <span class=\"token variable\">$data</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name static-context\">Validator</span><span class=\"token operator\">::</span><span class=\"token function\">make</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$data</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token string single-quoted-string\">'last_name'</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'required'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'string'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'max:32'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string single-quoted-string\">'first_name'</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'required'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'string'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'max:32'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string single-quoted-string\">'last_name_kana'</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'required'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'string'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'max:32'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'katakana'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string single-quoted-string\">'first_name_kana'</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'required'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'string'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'max:32'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'katakana'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string single-quoted-string\">'email'</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'required'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'string'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'email'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'max:128'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'unique:players'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string single-quoted-string\">'new_password'</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'required'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'string'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'min:8'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'same:password_confirm'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p><em>Example login</em></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\">    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function-definition function\">login</span><span class=\"token punctuation\">(</span><span class=\"token class-name type-declaration\">Request</span> <span class=\"token variable\">$request</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Validate the form data</span>\n        <span class=\"token variable\">$this</span><span class=\"token operator\">-></span><span class=\"token function\">validate</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$request</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token string single-quoted-string\">'email'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'required|email'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string single-quoted-string\">'password'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'required|min:3'</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//        echo $request->email;</span>\n        <span class=\"token comment\">// Attempt to log the user in</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name static-context\">Auth</span><span class=\"token operator\">::</span><span class=\"token function\">guard</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'player'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">attempt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'email'</span> <span class=\"token operator\">=></span> <span class=\"token variable\">$request</span><span class=\"token operator\">-></span><span class=\"token property\">email</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'password'</span> <span class=\"token operator\">=></span> <span class=\"token variable\">$request</span><span class=\"token operator\">-></span><span class=\"token property\">password</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'deleted_at'</span> <span class=\"token operator\">=></span> <span class=\"token constant\">null</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$request</span><span class=\"token operator\">-></span><span class=\"token property\">remember</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// if successful, then redirect to their intended location</span>\n            <span class=\"token keyword\">return</span> <span class=\"token function\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">intended</span><span class=\"token punctuation\">(</span><span class=\"token function\">route</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'player.home'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token comment\">// if unsuccessful, then redirect back to the login with the form data</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">back</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">withInput</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$request</span><span class=\"token operator\">-></span><span class=\"token function\">only</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'email'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'remember'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"Laravel Varidation","date":"December 15, 2020","post_modified":"December 15, 2020","description":"Laravel varidationの一例","tags":["PHP","Laravel"],"draft":false}},"previous":{"fields":{"slug":"/BackEnd/php/laravel/laravel_softdelete/"},"frontmatter":{"title":"Laravel Softdelete"}},"next":{"fields":{"slug":"/Infrastructure/docker_memo/"},"frontmatter":{"title":"Docker Memo"}}},"pageContext":{"id":"b275491b-11c9-5648-a111-95ffeb00d3d9","previousPostId":"90cfe1d4-9d89-5cb5-bd11-1500e1b208d1","nextPostId":"8783944e-e0cf-5b8e-9d62-ae32ff99040d","draft":false}},
    "staticQueryHashes": ["1126706167","1176493165","1188992244","1314910092","1760060771","2772418575"]}