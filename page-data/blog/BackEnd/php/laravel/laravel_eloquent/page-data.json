{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/BackEnd/php/laravel/laravel_eloquent/",
    "result": {"data":{"site":{"siteMetadata":{"title":"おっさんWEBエンジニア奮闘記"}},"markdownRemark":{"id":"36649506-af37-5595-97c0-76e81f2761bd","excerpt":"Laravel Eloquent 備忘録 laravel Eloquent Example $this->hasOne 1:1 $this->hasMany 1:N $this->belongsTo N:1 this->belognsToMany N:N $this->hasManyThrough 中間テーブル sql…","html":"<h2>Laravel Eloquent 備忘録</h2>\n<h3>laravel Eloquent</h3>\n<p><em><strong>Example</strong></em></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">class</span> <span class=\"token class-name-definition class-name\">Article</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Model_</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token variable\">$timestamps</span> <span class=\"token operator\">=</span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token variable\">$guarded</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string single-quoted-string\">'id'</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function-definition function\">articleImages</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-></span><span class=\"token function\">hasMany</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'App\\Models\\Admin\\ArticleImage'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">orderBy</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'sort'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'asc'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// 1:n order by</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function-definition function\">project</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-></span><span class=\"token function\">belongsTo</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'App\\Models\\Admin\\Project'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">withTrashed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// n:n  論理削除を含める</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>$this->hasOne 1:1</li>\n<li>$this->hasMany 1:N</li>\n<li>$this->belongsTo N:1</li>\n<li>this->belognsToMany N:N</li>\n<li>$this->hasManyThrough 中間テーブル</li>\n</ul>\n<h3>sql 確認</h3>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$sql</span> <span class=\"token operator\">=</span> <span class=\"token class-name static-context\">User</span><span class=\"token operator\">::</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'status'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'&lt;>'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n            <span class=\"token operator\">-></span><span class=\"token function\">toSql</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">var_dump</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$sql</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","frontmatter":{"title":"Laravel Eloquent 備忘録","date":"December 15, 2020","post_modified":"December 15, 2020","description":"Laravel Eloquent の概要メモ","tags":["PHP","Laravel"],"draft":false}},"previous":{"fields":{"slug":"/BackEnd/php/laravel/laravel_docker/"},"frontmatter":{"title":"Laravel を動かすDocker環境(Docker-compose)"}},"next":{"fields":{"slug":"/BackEnd/php/laravel/laravel_form_facade/"},"frontmatter":{"title":"Laravel form facede"}}},"pageContext":{"id":"36649506-af37-5595-97c0-76e81f2761bd","previousPostId":"1f7947d0-5a0f-599a-bf40-00e898923a06","nextPostId":"cd05cda2-2684-5771-b1cf-dc76b4c0ba35","draft":false}},
    "staticQueryHashes": ["1126706167","1176493165","1188992244","1314910092","1760060771","2772418575","3679674316"]}