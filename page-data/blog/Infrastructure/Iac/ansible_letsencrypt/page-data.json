{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/Infrastructure/Iac/ansible_letsencrypt/",
    "result": {"data":{"site":{"siteMetadata":{"title":"おっさんWEBエンジニア奮闘記"}},"markdownRemark":{"id":"955174d8-51ea-55a3-bf37-27747e60ed21","excerpt":"Ansible, Let’s Encrypt Install cerbot tasks VirtualHost vars Get cert Cron vars Cron tab letsencrypt_virtualhost.conf (Jinja2 template)","html":"<h1>Ansible, Let’s Encrypt</h1>\n<h2>Install cerbot tasks</h2>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> check installed cerbot\n  <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> bash <span class=\"token punctuation\">-</span>lc \"certbot <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>version\"\n  <span class=\"token key atrule\">register</span><span class=\"token punctuation\">:</span> certbot_exists\n  <span class=\"token key atrule\">changed_when</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">False</span>\n  <span class=\"token key atrule\">ignore_errors</span><span class=\"token punctuation\">:</span> yes\n\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> install epel<span class=\"token punctuation\">-</span>release\n  <span class=\"token key atrule\">become</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">yum</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> epel<span class=\"token punctuation\">-</span>release\n    <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> present\n    <span class=\"token comment\">#when:</span>\n    <span class=\"token comment\">#  - certbot_exists is failed</span>\n\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install certbot<span class=\"token punctuation\">,</span>certbot<span class=\"token punctuation\">-</span>apache\n  <span class=\"token key atrule\">become</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">yum</span><span class=\"token punctuation\">:</span> name=certbot<span class=\"token punctuation\">,</span>certbot<span class=\"token punctuation\">-</span>apache state=present\n\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install python<span class=\"token punctuation\">-</span>certbot<span class=\"token punctuation\">-</span>apache\n  <span class=\"token key atrule\">become</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">yum</span><span class=\"token punctuation\">:</span> name=python<span class=\"token punctuation\">-</span>certbot<span class=\"token punctuation\">-</span>apache state=present\n\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Set config to stop and restart with running certbot\n  <span class=\"token key atrule\">become</span><span class=\"token punctuation\">:</span> yes\n  <span class=\"token key atrule\">replace</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">dest</span><span class=\"token punctuation\">:</span> /etc/sysconfig/certbot\n    <span class=\"token key atrule\">regexp</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ item.regexp }}\"</span>\n    <span class=\"token key atrule\">replace</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ item.replace }}\"</span>\n    <span class=\"token key atrule\">backup</span><span class=\"token punctuation\">:</span> yes\n  <span class=\"token key atrule\">with_items</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">{</span> <span class=\"token key atrule\">\"regexp\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'^PRE_HOOK=\"\"$'</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">\"replace\"</span><span class=\"token punctuation\">:</span> 'PRE_HOOK=\"<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>pre<span class=\"token punctuation\">-</span>hook ''systemctl stop httpd''\"' <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">{</span> <span class=\"token key atrule\">\"regexp\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'^POST_HOOK=\"\"$'</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">\"replace\"</span><span class=\"token punctuation\">:</span> 'POST_HOOK=\"<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>post<span class=\"token punctuation\">-</span>hook ''systemctl restart httpd''\"' <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">{</span> <span class=\"token key atrule\">\"regexp\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'^RENEW_HOOK=\"\"$'</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">\"replace\"</span><span class=\"token punctuation\">:</span> 'RENEW_HOOK=\"<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>renew<span class=\"token punctuation\">-</span>hook ''systemctl restart httpd''\"' <span class=\"token punctuation\">}</span></code></pre></div>\n<h2>VirtualHost vars</h2>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">httpd</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">virtualhosts</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">hostname</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"virtualexample1.com\"</span>\n      <span class=\"token key atrule\">ssl</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n      <span class=\"token key atrule\">document_root</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/var/www/vhosts/virtualexample1.com\"</span>\n      <span class=\"token key atrule\">log</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/var/www/vhosts/virtualexample1.com/LOG\"</span>\n      <span class=\"token key atrule\">conf_options</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> AllowOverride All\n        <span class=\"token punctuation\">-</span> Options <span class=\"token punctuation\">-</span>Indexes +FollowSymLinks\n        <span class=\"token punctuation\">-</span> Options +ExecCGI\n        <span class=\"token punctuation\">-</span> AddHandler cgi<span class=\"token punctuation\">-</span>script .pl .cgi\n        <span class=\"token punctuation\">-</span> Order allow<span class=\"token punctuation\">,</span>deny\n        <span class=\"token punctuation\">-</span> Allow from all\n      <span class=\"token key atrule\">conf_ssl_options</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> AllowOverride All\n        <span class=\"token punctuation\">-</span> Options <span class=\"token punctuation\">-</span>Indexes +FollowSymLinks\n        <span class=\"token punctuation\">-</span> Options +ExecCGI\n        <span class=\"token punctuation\">-</span> AddHandler cgi<span class=\"token punctuation\">-</span>script .pl .cgi\n        <span class=\"token punctuation\">-</span> Order allow<span class=\"token punctuation\">,</span>deny\n        <span class=\"token punctuation\">-</span> Allow from all\n      <span class=\"token key atrule\">owner</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"vh1\"</span>\n      <span class=\"token key atrule\">group</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"vh1\"</span>\n      <span class=\"token key atrule\">recurse</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"yes\"</span>\n      <span class=\"token key atrule\">server_crt</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/etc/pki/tls/certs/localhost.crt\"</span>\n      <span class=\"token key atrule\">server_key</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/etc/pki/tls/private/localhost.key\"</span>\n      <span class=\"token key atrule\">server_chain</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/etc/pki/tls/certs/ca-bundle.crt\"</span>\n      <span class=\"token key atrule\">letsencrypt</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"present\"</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"letsencrypt virtualexample1.com\"</span>\n        <span class=\"token key atrule\">email</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"admin@virtualhostexample1.com\"</span>\n        <span class=\"token key atrule\">cron</span><span class=\"token punctuation\">:</span>\n          <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"letsencrypt 001\"</span>\n            <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"present\"</span>\n            <span class=\"token key atrule\">user</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"root\"</span>\n            <span class=\"token key atrule\">minute</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"0\"</span>\n            <span class=\"token key atrule\">hour</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"12\"</span>\n            <span class=\"token key atrule\">day</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"1\"</span>\n            <span class=\"token key atrule\">month</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"*\"</span>\n            <span class=\"token key atrule\">weekday</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"*\"</span>\n          <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"letsencrypt 002\"</span>\n            <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"present\"</span>\n            <span class=\"token key atrule\">user</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"root\"</span>\n            <span class=\"token key atrule\">minute</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"0\"</span>\n            <span class=\"token key atrule\">hour</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"13\"</span>\n            <span class=\"token key atrule\">day</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"1\"</span>\n            <span class=\"token key atrule\">month</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"*\"</span>\n            <span class=\"token key atrule\">weekday</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"*\"</span></code></pre></div>\n<h2>Get cert</h2>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"> <span class=\"token punctuation\">---</span>\n <span class=\"token comment\"># tasks file for roles/httpd</span>\n <span class=\"token comment\"># letsncryp</span>\n\n <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Check privkey.pem exists\n   <span class=\"token key atrule\">become</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n   <span class=\"token key atrule\">stat</span><span class=\"token punctuation\">:</span>\n     <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/etc/letsencrypt/live/{{ item.value.httpd.hostname }}/privkey.pem\"</span>\n   <span class=\"token key atrule\">register</span><span class=\"token punctuation\">:</span> key_exists\n   <span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span>\n     <span class=\"token punctuation\">-</span> item.value.httpd.ssl.ssl_provider == 'letsencrypt'\n   <span class=\"token key atrule\">with_dict</span><span class=\"token punctuation\">:</span>\n     <span class=\"token punctuation\">-</span> <span class=\"token string\">\"{{ virtualhosts }}\"</span>\n\n <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Get certs\n   <span class=\"token key atrule\">become</span><span class=\"token punctuation\">:</span> yes\n   <span class=\"token key atrule\">shell</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">></span><span class=\"token scalar string\">\n     certbot certonly -m {{ item.item.value.httpd.ssl.letsencrypt.email }}\n     --agree-tos\n     --non-interactive $*\n     --webroot\n     -w {{ item.item.value.httpd.host_dir }}{{ item.item.value.httpd.public_dir }}\n     -d {{ item.item.value.httpd.hostname }}</span>\n   <span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span>\n     <span class=\"token punctuation\">-</span> item.item.value.httpd.ssl.ssl_provider == 'letsencrypt'\n     <span class=\"token punctuation\">-</span> item.stat.exists is false\n     <span class=\"token punctuation\">-</span> item.item.value.httpd.ssl.letsencrypt.state == 'present'\n   <span class=\"token key atrule\">with_items</span><span class=\"token punctuation\">:</span>\n     <span class=\"token punctuation\">-</span> <span class=\"token string\">\"{{ key_exists.results }}\"</span>\n\n <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install VirtualHost(https)\n   <span class=\"token key atrule\">become</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n   <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span>\n     <span class=\"token key atrule\">src</span><span class=\"token punctuation\">:</span> templates/letsencrypt_virtualhost.conf.j2\n     <span class=\"token key atrule\">dest</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/etc/httpd/conf.d/letsencrypt_{{ item.value.httpd.hostname }}.conf\"</span>\n   <span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span>\n     <span class=\"token punctuation\">-</span> item.value.httpd.ssl.ssl_provider == 'letsencrypt'\n   <span class=\"token key atrule\">with_dict</span><span class=\"token punctuation\">:</span>\n     <span class=\"token punctuation\">-</span> <span class=\"token string\">\"{{ virtualhosts }}\"</span>\n   <span class=\"token key atrule\">notify</span><span class=\"token punctuation\">:</span>\n     <span class=\"token punctuation\">-</span> Restart httpd\n\n <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Remove VirtualHost(https)\n   <span class=\"token key atrule\">become</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n   <span class=\"token key atrule\">file</span><span class=\"token punctuation\">:</span>\n     <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/etc/httpd/conf.d/letsencrypt_{{ item.value.httpd.hostname }}.conf\"</span>\n     <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> absent\n   <span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span>\n     <span class=\"token punctuation\">-</span> item.value.httpd.ssl.ssl_provider <span class=\"token tag\">!=</span> 'letsencrypt'\n   <span class=\"token key atrule\">with_dict</span><span class=\"token punctuation\">:</span>\n     <span class=\"token punctuation\">-</span> <span class=\"token string\">\"{{ virtualhosts }}\"</span>\n   <span class=\"token key atrule\">notify</span><span class=\"token punctuation\">:</span>\n     <span class=\"token punctuation\">-</span> Restart httpd\n\n <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Remove keys\n   <span class=\"token key atrule\">become</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n   <span class=\"token key atrule\">include</span><span class=\"token punctuation\">:</span> letsencrypt_delete_loop.yml\n   <span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span>\n     <span class=\"token punctuation\">-</span> item.value.httpd.ssl.ssl_provider <span class=\"token tag\">!=</span> 'letsencrypt'\n   <span class=\"token key atrule\">with_dict</span><span class=\"token punctuation\">:</span>\n     <span class=\"token punctuation\">-</span> <span class=\"token string\">\"{{ virtualhosts }}\"</span>\n   <span class=\"token key atrule\">notify</span><span class=\"token punctuation\">:</span>\n     <span class=\"token punctuation\">-</span> Restart httpd</code></pre></div>\n<h2>Cron vars</h2>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">crontab</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">letsencrypt</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"letsencrypt {{ httpd_domain }}\"</span>\n    <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"present\"</span>\n    <span class=\"token key atrule\">user</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"root\"</span>\n    <span class=\"token key atrule\">job</span><span class=\"token punctuation\">:</span> /bin/bash <span class=\"token punctuation\">-</span>lc \"certbot certonly <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>force<span class=\"token punctuation\">-</span>renew <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>webroot <span class=\"token punctuation\">-</span>w <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> httpd_document_root <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> httpd_public_dir <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">-</span>d <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> httpd_domain <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>post<span class=\"token punctuation\">-</span>hook 'systemctl reload httpd' <span class=\"token punctuation\">></span> /dev/null 2<span class=\"token punctuation\">></span><span class=\"token important\">&amp;1\"</span>\n    <span class=\"token key atrule\">minute</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"0\"</span>\n    <span class=\"token key atrule\">hour</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"12\"</span>\n    <span class=\"token key atrule\">day</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"1\"</span>\n    <span class=\"token key atrule\">month</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"*\"</span>\n    <span class=\"token key atrule\">weekday</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"*\"</span></code></pre></div>\n<h2>Cron tab</h2>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Cron control\n  <span class=\"token key atrule\">become</span><span class=\"token punctuation\">:</span> yes\n  <span class=\"token key atrule\">cron</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\" {{ item.value.name }}\"</span>\n    <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ item.value.state }}\"</span>\n    <span class=\"token key atrule\">user</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ item.value.user }}\"</span>\n    <span class=\"token key atrule\">minute</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ item.value.minute }}\"</span>\n    <span class=\"token key atrule\">hour</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ item.value.hour }}\"</span>\n    <span class=\"token key atrule\">day</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ item.value.day }}\"</span>\n    <span class=\"token key atrule\">month</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ item.value.month }}\"</span>\n    <span class=\"token key atrule\">weekday</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ item.value.weekday }}\"</span>\n    <span class=\"token key atrule\">job</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ item.value.job }}\"</span>\n  <span class=\"token key atrule\">with_dict</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token string\">\"{{ crontab }}\"</span></code></pre></div>\n<h2>letsencrypt_virtualhost.conf (Jinja2 template)</h2>\n<div class=\"gatsby-highlight\" data-language=\"conf\"><pre class=\"language-conf\"><code class=\"language-conf\">  ServerName {{ item.value.httpd.hostname }}\n  DocumentRoot {{ item.value.httpd.host_dir }}{{ item.value.httpd.public_dir }}\n  SSLEngine on\n  SSLCipherSuite AES256+EECDH:AES256+EDH\n  SSLProtocol All -SSLv2 -SSLv3\n  SSLHonorCipherOrder On\n  SSLCertificateFile /etc/letsencrypt/live/{{ item.value.httpd.hostname }}/cert.pem\n  SSLCertificateKeyFile /etc/letsencrypt/live/{{ item.value.httpd.hostname }}/privkey.pem\n  SSLCertificateChainFile /etc/letsencrypt/live/{{ item.value.httpd.hostname }}/chain.pem\n\n  {% for n in item.value.httpd.conf_ssl_options %}\n    {{ n }}\n  {% endfor %}\n\n  ErrorLog {{ item.value.httpd.log }}/error.log\n  CustomLog {{ item.value.httpd.log }}/access.log combined</code></pre></div>","frontmatter":{"title":"Ansible, Let's Encrypt","date":"December 14, 2020","post_modified":"December 14, 2020","description":"今後Let's Encryptの設定はAnsibleで行いたい。AnsibleのLet's Encryptテンプレート","tags":["Linux","Apache","Ansible","Let's Encrypt","Cron"],"draft":false}},"previous":{"fields":{"slug":"/BackEnd/php/laravel/laravel_circleci/"},"frontmatter":{"title":"Laravel, CircleCI"}},"next":{"fields":{"slug":"/Infrastructure/CICD/GitHub/github_actions/"},"frontmatter":{"title":"Github Actions 基本"}}},"pageContext":{"id":"955174d8-51ea-55a3-bf37-27747e60ed21","previousPostId":"2f99a5fa-8448-5c7d-9a85-461ce61c2578","nextPostId":"7500472b-2e7a-5952-a48f-d109973b87e2","draft":false}},
    "staticQueryHashes": ["1126706167","1176493165","1188992244","1314910092","2772418575"]}