{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/Infrastructure/monitoring/",
    "result": {"data":{"site":{"siteMetadata":{"title":"おっさんWEBエンジニア奮闘記"}},"markdownRemark":{"id":"7ee22331-607a-51d2-b5c5-dfea2ede27a5","excerpt":"top vmstat iostat sar","html":"<h2>top</h2>\n<h2>vmstat</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># /1sec</span>\n<span class=\"token function\">vmstat</span> <span class=\"token number\">1</span>\nprocs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----\n r  b   swpd   <span class=\"token function\">free</span>   buff  cache   si   so    bi    bo   <span class=\"token keyword\">in</span>   cs us sy <span class=\"token function\">id</span> wa st\n <span class=\"token number\">2</span>  <span class=\"token number\">0</span>      <span class=\"token number\">0</span> <span class=\"token number\">435508</span>  <span class=\"token number\">84928</span> <span class=\"token number\">792912</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">7</span>     <span class=\"token number\">9</span>  <span class=\"token number\">164</span>  <span class=\"token number\">221</span>  <span class=\"token number\">1</span>  <span class=\"token number\">1</span> <span class=\"token number\">98</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n <span class=\"token number\">0</span>  <span class=\"token number\">0</span>      <span class=\"token number\">0</span> <span class=\"token number\">435256</span>  <span class=\"token number\">84928</span> <span class=\"token number\">792912</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">0</span>     <span class=\"token number\">0</span>  <span class=\"token number\">178</span>  <span class=\"token number\">206</span>  <span class=\"token number\">1</span>  <span class=\"token number\">2</span> <span class=\"token number\">97</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n <span class=\"token number\">0</span>  <span class=\"token number\">0</span>      <span class=\"token number\">0</span> <span class=\"token number\">435756</span>  <span class=\"token number\">84928</span> <span class=\"token number\">792912</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">0</span>     <span class=\"token number\">0</span>  <span class=\"token number\">177</span>  <span class=\"token number\">228</span>  <span class=\"token number\">1</span>  <span class=\"token number\">2</span> <span class=\"token number\">97</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n <span class=\"token number\">0</span>  <span class=\"token number\">0</span>      <span class=\"token number\">0</span> <span class=\"token number\">435260</span>  <span class=\"token number\">84928</span> <span class=\"token number\">792912</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">0</span>     <span class=\"token number\">0</span>  <span class=\"token number\">201</span>  <span class=\"token number\">227</span>  <span class=\"token number\">2</span>  <span class=\"token number\">2</span> <span class=\"token number\">96</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n <span class=\"token number\">1</span>  <span class=\"token number\">0</span>      <span class=\"token number\">0</span> <span class=\"token number\">434744</span>  <span class=\"token number\">84928</span> <span class=\"token number\">792912</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">0</span>    <span class=\"token number\">12</span>  <span class=\"token number\">177</span>  <span class=\"token number\">203</span>  <span class=\"token number\">1</span>  <span class=\"token number\">1</span> <span class=\"token number\">98</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n <span class=\"token number\">0</span>  <span class=\"token number\">0</span>      <span class=\"token number\">0</span> <span class=\"token number\">435468</span>  <span class=\"token number\">84928</span> <span class=\"token number\">792912</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">0</span>     <span class=\"token number\">0</span>  <span class=\"token number\">224</span>  <span class=\"token number\">258</span>  <span class=\"token number\">2</span>  <span class=\"token number\">3</span> <span class=\"token number\">95</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n <span class=\"token number\">1</span>  <span class=\"token number\">0</span>      <span class=\"token number\">0</span> <span class=\"token number\">435600</span>  <span class=\"token number\">84928</span> <span class=\"token number\">792912</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">0</span>     <span class=\"token number\">0</span>  <span class=\"token number\">186</span>  <span class=\"token number\">211</span>  <span class=\"token number\">2</span>  <span class=\"token number\">2</span> <span class=\"token number\">96</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n <span class=\"token number\">1</span>  <span class=\"token number\">0</span>      <span class=\"token number\">0</span> <span class=\"token number\">436240</span>  <span class=\"token number\">84928</span> <span class=\"token number\">792912</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">0</span>     <span class=\"token number\">0</span>  <span class=\"token number\">171</span>  <span class=\"token number\">207</span>  <span class=\"token number\">1</span>  <span class=\"token number\">0</span> <span class=\"token number\">99</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n <span class=\"token number\">1</span>  <span class=\"token number\">0</span>      <span class=\"token number\">0</span> <span class=\"token number\">435620</span>  <span class=\"token number\">84928</span> <span class=\"token number\">792912</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">0</span>     <span class=\"token number\">0</span>  <span class=\"token number\">185</span>  <span class=\"token number\">220</span>  <span class=\"token number\">1</span>  <span class=\"token number\">3</span> <span class=\"token number\">96</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n <span class=\"token number\">0</span>  <span class=\"token number\">0</span>      <span class=\"token number\">0</span> <span class=\"token number\">435124</span>  <span class=\"token number\">84936</span> <span class=\"token number\">792904</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">0</span>    <span class=\"token number\">40</span>  <span class=\"token number\">179</span>  <span class=\"token number\">221</span>  <span class=\"token number\">1</span>  <span class=\"token number\">1</span> <span class=\"token number\">98</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n <span class=\"token number\">0</span>  <span class=\"token number\">0</span>      <span class=\"token number\">0</span> <span class=\"token number\">435756</span>  <span class=\"token number\">84936</span> <span class=\"token number\">792912</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">0</span>    <span class=\"token number\">44</span>  <span class=\"token number\">191</span>  <span class=\"token number\">220</span>  <span class=\"token number\">1</span>  <span class=\"token number\">2</span> <span class=\"token number\">97</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n <span class=\"token number\">0</span>  <span class=\"token number\">0</span>      <span class=\"token number\">0</span> <span class=\"token number\">435504</span>  <span class=\"token number\">84936</span> <span class=\"token number\">792912</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">0</span>     <span class=\"token number\">0</span>  <span class=\"token number\">171</span>  <span class=\"token number\">217</span>  <span class=\"token number\">1</span>  <span class=\"token number\">1</span> <span class=\"token number\">98</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n <span class=\"token number\">0</span>  <span class=\"token number\">0</span>      <span class=\"token number\">0</span> <span class=\"token number\">436004</span>  <span class=\"token number\">84936</span> <span class=\"token number\">792912</span>    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>     <span class=\"token number\">0</span>     <span class=\"token number\">0</span>  <span class=\"token number\">174</span>  <span class=\"token number\">216</span>  <span class=\"token number\">1</span>  <span class=\"token number\">1</span> <span class=\"token number\">98</span>  <span class=\"token number\">0</span>  <span class=\"token number\">0</span>\n</code></pre></div>\n<h2>iostat</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">iostat\nLinux <span class=\"token number\">3.10</span>.0-862.14.4.el7.x86_64 <span class=\"token punctuation\">(</span>centos75.exp<span class=\"token punctuation\">)</span> \t03/24/20 \t_x86_64_\t<span class=\"token punctuation\">(</span><span class=\"token number\">1</span> CPU<span class=\"token punctuation\">)</span>\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           <span class=\"token number\">0.76</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">1.44</span>    <span class=\"token number\">0.02</span>    <span class=\"token number\">0.00</span>   <span class=\"token number\">97.77</span>\n\nDevice:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn\nsda               <span class=\"token number\">1.19</span>         <span class=\"token number\">6.77</span>         <span class=\"token number\">9.39</span>     <span class=\"token number\">423937</span>     <span class=\"token number\">587992</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">iostat -h\nLinux <span class=\"token number\">3.10</span>.0-862.14.4.el7.x86_64 <span class=\"token punctuation\">(</span>centos75.exp<span class=\"token punctuation\">)</span> \t03/24/20 \t_x86_64_\t<span class=\"token punctuation\">(</span><span class=\"token number\">1</span> CPU<span class=\"token punctuation\">)</span>\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           <span class=\"token number\">0.76</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">1.44</span>    <span class=\"token number\">0.02</span>    <span class=\"token number\">0.00</span>   <span class=\"token number\">97.77</span>\n\nDevice:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn\nsda\n                  <span class=\"token number\">1.19</span>         <span class=\"token number\">6.76</span>         <span class=\"token number\">9.39</span>     <span class=\"token number\">423937</span>     <span class=\"token number\">588492</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">iostat -x\nLinux <span class=\"token number\">3.10</span>.0-862.14.4.el7.x86_64 <span class=\"token punctuation\">(</span>centos75.exp<span class=\"token punctuation\">)</span> \t03/24/20 \t_x86_64_\t<span class=\"token punctuation\">(</span><span class=\"token number\">1</span> CPU<span class=\"token punctuation\">)</span>\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           <span class=\"token number\">0.76</span>    <span class=\"token number\">0.00</span>    <span class=\"token number\">1.44</span>    <span class=\"token number\">0.02</span>    <span class=\"token number\">0.00</span>   <span class=\"token number\">97.77</span>\n\nDevice:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util\nsda               <span class=\"token number\">0.09</span>     <span class=\"token number\">0.84</span>    <span class=\"token number\">0.21</span>    <span class=\"token number\">0.98</span>     <span class=\"token number\">6.76</span>     <span class=\"token number\">9.38</span>    <span class=\"token number\">27.08</span>     <span class=\"token number\">0.00</span>    <span class=\"token number\">3.06</span>    <span class=\"token number\">2.84</span>    <span class=\"token number\">3.10</span>   <span class=\"token number\">0.65</span>   <span class=\"token number\">0.08</span></code></pre></div>\n<h2>sar</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">sar <span class=\"token number\">1</span>\u001b<span class=\"token variable\">$B</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span>\u001b<span class=\"token punctuation\">(</span>B3\n\nLinux <span class=\"token number\">3.10</span>.0-862.14.4.el7.x86_64 <span class=\"token punctuation\">(</span>centos75.exp<span class=\"token punctuation\">)</span> \t03/24/20 \t_x86_64_\t<span class=\"token punctuation\">(</span><span class=\"token number\">1</span> CPU<span class=\"token punctuation\">)</span>\n\n<span class=\"token number\">11</span>:59:29        CPU     %user     %nice   %system   %iowait    %steal     %idle\n<span class=\"token number\">11</span>:59:30        all      <span class=\"token number\">1.02</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">3.06</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>     <span class=\"token number\">95.92</span>\n<span class=\"token number\">11</span>:59:31        all      <span class=\"token number\">2.02</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">1.01</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>     <span class=\"token number\">96.97</span>\n<span class=\"token number\">11</span>:59:32        all      <span class=\"token number\">1.01</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">2.02</span>      <span class=\"token number\">1.01</span>      <span class=\"token number\">0.00</span>     <span class=\"token number\">95.96</span>\nAverage:        all      <span class=\"token number\">1.35</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">2.03</span>      <span class=\"token number\">0.34</span>      <span class=\"token number\">0.00</span>     <span class=\"token number\">96.28</span>\n</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">sar -b <span class=\"token number\">1</span> <span class=\"token number\">3</span>\n\n<span class=\"token number\">12</span>:01:16          tps      rtps      wtps   bread/s   bwrtn/s\n<span class=\"token number\">12</span>:01:17         <span class=\"token number\">1.02</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">1.02</span>      <span class=\"token number\">0.00</span>     <span class=\"token number\">32.65</span>\n<span class=\"token number\">12</span>:01:18         <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>\n<span class=\"token number\">12</span>:01:19         <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.00</span>\nAverage:         <span class=\"token number\">0.34</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">0.34</span>      <span class=\"token number\">0.00</span>     <span class=\"token number\">10.85</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">sar -r  <span class=\"token number\">1</span> <span class=\"token number\">3</span>\n<span class=\"token number\">12</span>:02:35    kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty\n<span class=\"token number\">12</span>:02:36       <span class=\"token number\">433608</span>   <span class=\"token number\">1449516</span>     <span class=\"token number\">76.97</span>     <span class=\"token number\">85424</span>    <span class=\"token number\">729440</span>   <span class=\"token number\">1520448</span>     <span class=\"token number\">38.20</span>    <span class=\"token number\">988812</span>    <span class=\"token number\">352816</span>        <span class=\"token number\">36</span>\n<span class=\"token number\">12</span>:02:37       <span class=\"token number\">434224</span>   <span class=\"token number\">1448900</span>     <span class=\"token number\">76.94</span>     <span class=\"token number\">85424</span>    <span class=\"token number\">729440</span>   <span class=\"token number\">1520448</span>     <span class=\"token number\">38.20</span>    <span class=\"token number\">987728</span>    <span class=\"token number\">352816</span>        <span class=\"token number\">36</span>\n<span class=\"token number\">12</span>:02:38       <span class=\"token number\">433980</span>   <span class=\"token number\">1449144</span>     <span class=\"token number\">76.95</span>     <span class=\"token number\">85424</span>    <span class=\"token number\">729440</span>   <span class=\"token number\">1520448</span>     <span class=\"token number\">38.20</span>    <span class=\"token number\">988496</span>    <span class=\"token number\">352816</span>         <span class=\"token number\">0</span>\nAverage:       <span class=\"token number\">433937</span>   <span class=\"token number\">1449187</span>     <span class=\"token number\">76.96</span>     <span class=\"token number\">85424</span>    <span class=\"token number\">729440</span>   <span class=\"token number\">1520448</span>     <span class=\"token number\">38.20</span>    <span class=\"token number\">988345</span>    <span class=\"token number\">352816</span>        <span class=\"token number\">24</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">sar\n<span class=\"token comment\"># display current date done</span>\nLinux <span class=\"token number\">3.10</span>.0-862.14.4.el7.x86_64 <span class=\"token punctuation\">(</span>centos75.exp<span class=\"token punctuation\">)</span> \t03/24/20 \t_x86_64_\t<span class=\"token punctuation\">(</span><span class=\"token number\">1</span> CPU<span class=\"token punctuation\">)</span>\n\n<span class=\"token number\">11</span>:40:02        CPU     %user     %nice   %system   %iowait    %steal     %idle\n<span class=\"token number\">11</span>:50:01        all      <span class=\"token number\">0.93</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">1.46</span>      <span class=\"token number\">0.03</span>      <span class=\"token number\">0.00</span>     <span class=\"token number\">97.58</span>\n<span class=\"token number\">12</span>:00:01        all      <span class=\"token number\">0.97</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">1.47</span>      <span class=\"token number\">0.02</span>      <span class=\"token number\">0.00</span>     <span class=\"token number\">97.54</span>\nAverage:        all      <span class=\"token number\">0.95</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">1.46</span>      <span class=\"token number\">0.02</span>      <span class=\"token number\">0.00</span>     <span class=\"token number\">97.56</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\">#specify file</span>\nsar -f /var/log/sa/sa24\n\nLinux <span class=\"token number\">3.10</span>.0-862.14.4.el7.x86_64 <span class=\"token punctuation\">(</span>centos75.exp<span class=\"token punctuation\">)</span> \t03/24/20 \t_x86_64_\t<span class=\"token punctuation\">(</span><span class=\"token number\">1</span> CPU<span class=\"token punctuation\">)</span>\n\n<span class=\"token number\">11</span>:40:02        CPU     %user     %nice   %system   %iowait    %steal     %idle\n<span class=\"token number\">11</span>:50:01        all      <span class=\"token number\">0.93</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">1.46</span>      <span class=\"token number\">0.03</span>      <span class=\"token number\">0.00</span>     <span class=\"token number\">97.58</span>\n<span class=\"token number\">12</span>:00:01        all      <span class=\"token number\">0.97</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">1.47</span>      <span class=\"token number\">0.02</span>      <span class=\"token number\">0.00</span>     <span class=\"token number\">97.54</span>\nAverage:        all      <span class=\"token number\">0.95</span>      <span class=\"token number\">0.00</span>      <span class=\"token number\">1.46</span>      <span class=\"token number\">0.02</span>      <span class=\"token number\">0.00</span>     <span class=\"token number\">97.56</span>\n</code></pre></div>","frontmatter":{"title":"サーバーモニタリングツール","date":"February 23, 2022","post_modified":"February 23, 2022","description":"サーバーの状態把握をするためのコマンド","tags":["Security","Command"],"draft":false}},"previous":{"fields":{"slug":"/Infrastructure/CentOS/iptables_basic/"},"frontmatter":{"title":"iptables 基本コマンド"}},"next":{"fields":{"slug":"/Infrastructure/nginx/nginx_conf/"},"frontmatter":{"title":"Nginx conf"}}},"pageContext":{"id":"7ee22331-607a-51d2-b5c5-dfea2ede27a5","previousPostId":"f2f8b7c9-83cf-5161-9ab0-7d783e741b93","nextPostId":"2a22ea94-3dff-5f0b-92d1-2cefb0fecbdf","draft":false}},
    "staticQueryHashes": ["1126706167","1176493165","1188992244","1314910092","1760060771","2772418575","3679674316"]}