{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/Infrastructure/linkchecker/",
    "result": {"data":{"site":{"siteMetadata":{"title":"おっさんWEBエンジニア奮闘記"}},"markdownRemark":{"id":"df1bc7bf-ce3c-5d17-9d69-c822595f8002","excerpt":"👀 Overview ローカル、グローバル問わず404チェックをしたい。 GUIアプリはインストールしたくない 解析結果のファイルフォーマットは最低でも html,csv があればよい。 🚀 Usage 🐳 Docker-compose 🐳 Docker 📝 40…","html":"<h2>👀 Overview</h2>\n<ul>\n<li>ローカル、グローバル問わず404チェックをしたい。</li>\n<li>GUIアプリはインストールしたくない</li>\n<li>解析結果のファイルフォーマットは最低でも html,csv があればよい。</li>\n</ul>\n<h2>🚀 Usage</h2>\n<h3>🐳 Docker-compose</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Repository clone</span>\n<span class=\"token function\">git</span> pull https://github.com/WEBDIMENSION/docker_image_linkchecker.git linkchecker</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># envファイルコピー</span>\n<span class=\"token builtin class-name\">cd</span> linkchecker \n<span class=\"token function\">cp</span> .env.example .env</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Edite .env</span>\n<span class=\"token assign-left variable\">DIR_PATH</span><span class=\"token operator\">=</span>.\n<span class=\"token assign-left variable\">PROJECT_NAME</span><span class=\"token operator\">=</span>linkchecker\n<span class=\"token assign-left variable\">TARGET_URL</span><span class=\"token operator\">=</span><span class=\"token operator\">&lt;&lt;</span>TARGET_URL<span class=\"token operator\">>></span>  <span class=\"token comment\"># &lt;- Your site address</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># docker-compose 実行</span>\n<span class=\"token function\">docker-compose</span> run --rm linkchecker</code></pre></div>\n<h3>🐳 Docker</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Image pull</span>\n<span class=\"token function\">docker</span> pull ghcr.io/webdimension/linkchecker\n\n<span class=\"token comment\"># Exec</span>\n<span class=\"token function\">docker</span> run --rm <span class=\"token punctuation\">\\</span>\n-v /Users/your_name/CloudStation/workspace/projects/GitHub/linkchecker/src:/workspace/src <span class=\"token punctuation\">\\</span>\n-v /Users/your_name/CloudStation/workspace/projects/GitHub/linkchecker/output:/workspace/output <span class=\"token punctuation\">\\</span>\n--env-file /Users/your_name/CloudStation/workspace/projects/GitHub/linkchecker/.env <span class=\"token punctuation\">\\</span>\n--workdir<span class=\"token operator\">=</span><span class=\"token string\">\"/workspace/src\"</span> <span class=\"token punctuation\">\\</span>\n--entrypoint <span class=\"token string\">\"./linkchecker.sh\"</span> <span class=\"token punctuation\">\\</span>\n--name linkchecker ghcr.io/webdimension/linkchecker:latest</code></pre></div>\n<h2>📝 404チェック解析結果ファイル</h2>\n<p><code class=\"language-text\">output/repo/</code> 配下にファイルが生成される</p>\n<h2>⚠ Linkchecker 注意点</h2>\n<p><strong>Gatsby,js</strong>などをローカルで404チェックを行う際は <code class=\"language-text\">develop mode</code> では正しい結果は帰ってこない。<br>\n<code class=\"language-text\">product mode</code> で立ち上げれば正常動作する。</p>\n<h2>linkchecker 解析結果フォーマット</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Format html</span>\nlinkchecker -o text -Fhtml/report/linkchecker.report.html http://localhost</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># create sitemap</span>\nlinkchecker -o text -Fsitemap/report/linkchecker.report.sitemap http://localhost</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Format CSV</span>\nlinkchecker --no-status -v  -o text -Fcsv/report/linkchecker.report.csv http://localhost</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Format SQL</span>\nlinkchecker -o text -Fsql/report/linkchecker.report.sql http://loalhost</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Format dotL</span>\nlinkchecker -o text -Fdot/report/linkchecker.report.dot http://loalhost</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Format failures</span>\nlinkchecker -o text -Ffailures/report/linkchecker.report.failures http://loalhost</code></pre></div>","frontmatter":{"title":"WEBサイト内 404 not found チェック","date":"March 15, 2022","post_modified":"March 15, 2022","description":"linkchecker の Docker環境を作りで Global, Local 問わず404をチェック","tags":["Docker","Docker-compose","Docker Registry"],"draft":false}},"previous":{"fields":{"slug":"/Tools/Intellij/browser_debug/"},"frontmatter":{"title":"Intellij IDEA ブラウザデバッグの際のブラウザの設定"}},"next":{"fields":{"slug":"/FrontEnd/REACT/use-state/"},"frontmatter":{"title":"React hooks userState"}}},"pageContext":{"id":"df1bc7bf-ce3c-5d17-9d69-c822595f8002","previousPostId":"e74179eb-ff94-5ea0-a8e8-a18ed9a1d6d6","nextPostId":"769d14ed-da92-58b5-9ed6-dd32fd661254","draft":false}},
    "staticQueryHashes": ["1126706167","1176493165","1188992244","1314910092","1760060771","2772418575","3679674316"]}