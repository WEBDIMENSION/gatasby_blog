{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/Environment/Docker/Docker_basic/",
    "result": {"data":{"site":{"siteMetadata":{"title":"おっさんWEBエンジニア奮闘記"}},"markdownRemark":{"id":"99773aba-c955-5f39-bf1f-a6f2631a053f","excerpt":"Doker build Docker run Container stop remove Docker exec Options -u ‘username’ -d ‘background’ -e ‘env’ —privileged -w ‘workdir’ Create Network Volumes Remove…","html":"<h2>Doker build</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">    <span class=\"token function\">docker</span> build <span class=\"token builtin class-name\">.</span> -t <span class=\"token operator\">&lt;</span>tag_name<span class=\"token operator\">></span></code></pre></div>\n<h2>Docker run</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> run -itd --privileged -v <span class=\"token operator\">&lt;</span>host_dir<span class=\"token operator\">></span>:<span class=\"token operator\">&lt;</span>container_dir<span class=\"token operator\">></span> -p <span class=\"token operator\">&lt;</span>host_port<span class=\"token operator\">></span>:<span class=\"token operator\">&lt;</span>container_port<span class=\"token operator\">></span> --name <span class=\"token operator\">&lt;</span>container_name<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>image_tag<span class=\"token operator\">></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\">#example</span>\n<span class=\"token function\">docker</span> run -itd --privileged -v /home/vagrant/workspace/develop/ansible/Develop_on_ubuntu/ansible:/ansible  -p <span class=\"token number\">2223</span>:22 --name dev dev</code></pre></div>\n<h2>Container stop remove</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> stop <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">docker</span> <span class=\"token function\">ps</span> -q<span class=\"token variable\">)</span></span>\n<span class=\"token function\">docker</span> <span class=\"token function\">rm</span> -f  <span class=\"token operator\">&lt;</span>container_name<span class=\"token operator\">></span>\n<span class=\"token function\">docker</span> <span class=\"token function\">rm</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">docker</span> <span class=\"token function\">ps</span> -q -a<span class=\"token variable\">)</span></span>  <span class=\"token comment\"># all container</span>\n<span class=\"token function\">docker</span> rmi <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">docker</span> images -q<span class=\"token variable\">)</span></span> <span class=\"token comment\"># all image</span></code></pre></div>\n<h2>Docker exec</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># basic</span>\n<span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> -it <span class=\"token operator\">&lt;</span>container_name<span class=\"token operator\">></span> <span class=\"token function\">bash</span></code></pre></div>\n<h3>Options</h3>\n<ul>\n<li>-u ‘username’</li>\n<li>-d ‘background’</li>\n<li>-e ‘env’</li>\n<li>—privileged</li>\n<li>-w ‘workdir’</li>\n</ul>\n<h2>Create Network</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> network create <span class=\"token operator\">&lt;</span>network_name<span class=\"token operator\">></span>\n<span class=\"token comment\"># subnet</span>\n<span class=\"token function\">docker</span> network create --driver<span class=\"token operator\">=</span>bridge --subnet<span class=\"token operator\">=</span><span class=\"token number\">172.30</span>.0.0/24 dev</code></pre></div>\n<h2>Volumes</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> volume <span class=\"token function\">ls</span></code></pre></div>\n<h2>Remove Volumes</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> volume <span class=\"token function\">rm</span> <span class=\"token operator\">&lt;</span>volume_name<span class=\"token operator\">></span></code></pre></div>\n<h2>Get IP from container</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> inspect <span class=\"token operator\">&lt;</span>コンテナID<span class=\"token operator\">></span></code></pre></div>\n<h2>Clean UP</h2>\n<h3>Imagge</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> image prune</code></pre></div>\n<h3>container</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> container prune</code></pre></div>","frontmatter":{"title":"Docker 基本コマンド","date":"February 23, 2022","post_modified":"February 23, 2022","description":"Dockerのコマンドは長くなりがち","tags":["Docker","開発環境"],"draft":false}},"previous":{"fields":{"slug":"/Environment/Docker/Docker-compose_basic/"},"frontmatter":{"title":"Docker-compose よく使うコマンド"}},"next":{"fields":{"slug":"/Environment/Docker/DockerHub_push/"},"frontmatter":{"title":"DockerHubへ自作Docker-ImageをPush"}}},"pageContext":{"id":"99773aba-c955-5f39-bf1f-a6f2631a053f","previousPostId":"1b33a129-d4a4-5d32-9a33-3731829d4dd2","nextPostId":"f9ad9c78-05f9-561b-918d-ab9658134e00","draft":false}},
    "staticQueryHashes": ["1126706167","1176493165","1188992244","1314910092","2772418575"]}