{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/FrontEnd/GatsbyJS/gatsby-plugin-styled-components/",
    "result": {"data":{"site":{"siteMetadata":{"title":"おっさんWEBエンジニア奮闘記"}},"markdownRemark":{"id":"8b30211a-80ad-58b7-94a8-5694db46180d","excerpt":"GatsbyJS で でのプレビューは問題ないのだけれど本番環境 でのプレビュー時は初回表示、リロード時に表示が崩れる現象が発生。 リンクを辿るときは正常な表示。 ページ構成としてこのような感じ レスポンシブ対応としてMUI(Material-UI)のを使っている。 表示崩れが起こるのは の部分。 MUI…","html":"<p>GatsbyJS で</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> start</code></pre></div>\n<p>でのプレビューは問題ないのだけれど本番環境</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> build\n<span class=\"token function\">yarn</span> serve</code></pre></div>\n<p>でのプレビュー時は初回表示、リロード時に表示が崩れる現象が発生。<br>\nリンクを辿るときは正常な表示。</p>\n<p>ページ構成としてこのような感じ</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>container</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>header</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>header</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>content</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>sidebar</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>sidebar</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>content</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>footer</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>footer</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>container</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>レスポンシブ対応として<a href=\"https://mui.com\">MUI(Material-UI)</a>の<code class=\"language-text\">&lt;Grid></code>を使っている。<br>\n表示崩れが起こるのは <code class=\"language-text\">&lt;main>&lt;/main></code>の部分。</p>\n<p><a href=\"https://mui.com\">MUI(Material-UI)</a>が悪さしていると思い原因調査でやったこと</p>\n<ul>\n<li><code class=\"language-text\">&lt;Grid></code>を無効</li>\n<li><code class=\"language-text\">&lt;box></code> を無効</li>\n<li>googleAdsense コメントアウト</li>\n<li>{children} を無効</li>\n</ul>\n<p>状況変わらず。 <a href=\"https://mui.com\">MUI(Material-UI)</a>は原因ではないと推測。</p>\n<p><code class=\"language-text\">styled-components</code> を疑う。</p>\n<h2>原因</h2>\n<p>設定ミス。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> styled-components\n<span class=\"token function\">yarn</span> <span class=\"token function\">add</span> @types/styled-components</code></pre></div>\n<p>だけでなく</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> gatsby-plugin-styled-components</code></pre></div>\n<p>も必要だった。</p>\n<h3><code class=\"language-text\">gatsby-plugin-styled-components</code>の有効化</h3>\n<p><code class=\"language-text\">gatsby-config.js</code> に追記</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-styled-components</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<h2>諸惑</h2>\n<p>部分的な表示崩れのため部分的な原因かと思いきや全体設定の漏れ。<br>\nちょっと時間をとってしまった。 こういうのも慣れていくしかないか・・・</p>","frontmatter":{"title":"GatsbyJS で 初回表示、リロード時にスタイルが崩れる","date":"March 04, 2022","post_modified":"March 04, 2022","description":"GatsbyJS で 初回表示、リロード時にスタイルが崩れるときは設定もれかも。gatsby-plugin-styled-componentsを追加で解決","tags":["GatsbyJS"],"draft":false}},"previous":{"fields":{"slug":"/FrontEnd/GatsbyJS/Import_json/"},"frontmatter":{"title":"GatsbyJs で json ファイルを インポート"}},"next":null},"pageContext":{"id":"8b30211a-80ad-58b7-94a8-5694db46180d","previousPostId":"620ac4a7-1376-5f37-8b77-be78b7a34660","nextPostId":null,"draft":false}},
    "staticQueryHashes": ["1126706167","1176493165","1188992244","1314910092","1760060771","2772418575"]}