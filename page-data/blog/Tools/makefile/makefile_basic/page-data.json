{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/Tools/makefile/makefile_basic/",
    "result": {"data":{"site":{"siteMetadata":{"title":"おっさんWEBエンジニア奮闘記"}},"markdownRemark":{"id":"92a52084-302c-51b4-b176-815183e32cd4","excerpt":"Makefile Exec include variable define Current DIR Shell Function Directory","html":"<h1>Makefile</h1>\n<h2>Exec</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> docker-compose_ps</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker-compose_ps:\n\t@<span class=\"token variable\"><span class=\"token variable\">$(</span>call _docker_compose, <span class=\"token string\">'ps'</span><span class=\"token variable\">)</span></span></code></pre></div>\n<h2>include</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">include ./.makefile.d/*.mk</code></pre></div>\n<h2>variable</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">  FOO :<span class=\"token operator\">=</span> foo</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">BAR <span class=\"token operator\">=</span> <span class=\"token variable\"><span class=\"token variable\">$(</span>shell <span class=\"token function\">date</span><span class=\"token variable\">)</span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">  FOO :<span class=\"token operator\">=</span> foo</code></pre></div>\n<h2>define</h2>\n<p>Current DIR</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">  <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token environment constant\">PWD</span><span class=\"token variable\">)</span></span></code></pre></div>\n<h2>Shell</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">MAKEFILE_DIR:<span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">dir</span> <span class=\"token punctuation\">$(</span>abspath <span class=\"token punctuation\">$(</span>lastword <span class=\"token punctuation\">$(</span>MAKEFILE_LIST<span class=\"token punctuation\">)</span><span class=\"token variable\">)</span></span><span class=\"token punctuation\">))</span></code></pre></div>\n<h2>Function</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">define _docker_compose\n\t<span class=\"token builtin class-name\">cd</span> <span class=\"token variable\"><span class=\"token variable\">$(</span>PARENT_DIR<span class=\"token variable\">)</span></span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">docker-compose</span> <span class=\"token variable\">$1</span> <span class=\"token variable\">$2</span>\nendef</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker-compose_ps:\n\t@<span class=\"token variable\"><span class=\"token variable\">$(</span>call _docker_compose, <span class=\"token string\">'ps'</span><span class=\"token variable\">)</span></span></code></pre></div>\n<h2>Directory</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Current Dir</span>\nMAKEFILE_DIR:<span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">dir</span> <span class=\"token punctuation\">$(</span>abspath <span class=\"token punctuation\">$(</span>lastword <span class=\"token punctuation\">$(</span>MAKEFILE_LIST<span class=\"token punctuation\">)</span><span class=\"token variable\">)</span></span><span class=\"token punctuation\">))</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 1 up Dir</span>\nPARENT_DIR :<span class=\"token operator\">=</span> <span class=\"token variable\"><span class=\"token variable\">$(</span>shell <span class=\"token function\">dirname</span> $<span class=\"token punctuation\">{</span>MAKEFILE_DIR<span class=\"token punctuation\">}</span><span class=\"token variable\">)</span></span></code></pre></div>","frontmatter":{"title":"makefile","date":"February 23, 2022","post_modified":"February 23, 2022","description":"makefile 邪道な使い方","tags":["Makefile"],"draft":false}},"previous":{"fields":{"slug":"/Infrastructure/nginx/nginx_conf/"},"frontmatter":{"title":"Nginx conf"}},"next":{"fields":{"slug":"/FrontEnd/material-ui/basic/"},"frontmatter":{"title":"Material-UI (MUI)"}}},"pageContext":{"id":"92a52084-302c-51b4-b176-815183e32cd4","previousPostId":"2a22ea94-3dff-5f0b-92d1-2cefb0fecbdf","nextPostId":"50395f6f-e846-58c1-9b6b-49834096f5eb","draft":false}},
    "staticQueryHashes": ["1126706167","1176493165","1188992244","1314910092","2772418575"]}