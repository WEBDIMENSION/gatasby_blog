{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/blog/Tools/uml/activity/","result":{"data":{"site":{"siteMetadata":{"title":"おっさんWEBエンジニア奮闘記"}},"markdownRemark":{"id":"be69d85d-70bd-5604-b4b8-5bc9394dc79c","excerpt":"UML (アクティビティ図) ちょっとの間離れるとすぐ忘れてしまうので備忘録として。。。 基本的な書き方だけ。 参考 State Diagram Simple action ベーシックなやつね Start/Stop 処理を止める Start/End 処理を終わらせる(例外エラーとかかな) Conditional if…","html":"<h2>UML (アクティビティ図)</h2>\n<p>ちょっとの間離れるとすぐ忘れてしまうので備忘録として。。。</p>\n<p>基本的な書き方だけ。</p>\n<p>参考</p>\n<p><a href=\"https://plantuml.com/activity-diagram-beta\">State Diagram</a></p>\n<h3>Simple action</h3>\n<div class=\"gatsby-highlight\" data-language=\"puml\"><pre class=\"language-puml\"><code class=\"language-puml\">@startuml\n:Hello world;\n:This is defined on\nseveral **lines**;\n@enduml</code></pre></div>\n<p><em><strong>ベーシックなやつね</strong></em></p>\n<h3>Start/Stop</h3>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token punctuation\">:</span>Hello world<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">:</span>This <span class=\"token keyword\">is</span> defined on\nseveral **lines**<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>処理を止める</strong></em></p>\n<h3>Start/End</h3>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token punctuation\">:</span>Hello world<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">:</span>This <span class=\"token keyword\">is</span> defined on\nseveral **lines**<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>処理を終わらせる(例外エラーとかかな)</strong></em></p>\n<h3>Conditional</h3>\n<h4>if (…) then (…)</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Graphviz installed?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">(</span>yes<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">:</span>process all\\ndiagrams<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">else</span> <span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">:</span>process only\n  __sequence__ and __activity__ diagrams<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">endif</span>\n\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>条件式</strong></em></p>\n<h4>if (…) is (…) then</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>color?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> <span class=\"token punctuation\">(</span>&lt;color<span class=\"token punctuation\">:</span>red>red<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span>\n<span class=\"token punctuation\">:</span>print red<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">else</span> \n<span class=\"token punctuation\">:</span>print not red<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>if文</strong></em></p>\n<h3>if (…) equals (…) then</h3>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>counter?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">equals</span> <span class=\"token punctuation\">(</span>5<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span>\n<span class=\"token punctuation\">:</span>print 5<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">else</span> \n<span class=\"token punctuation\">:</span>print not 5<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>これもif文</strong></em></p>\n<h3>Several tests (horizontal mode)</h3>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition A<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">(</span>yes<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">:</span>Text 1<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">elseif</span> <span class=\"token punctuation\">(</span>condition B<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">(</span>yes<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">:</span>Text 2<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">stop</span>\n<span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">)</span> <span class=\"token keyword\">elseif</span> <span class=\"token punctuation\">(</span>condition C<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">(</span>yes<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">:</span>Text 3<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">)</span> <span class=\"token keyword\">elseif</span> <span class=\"token punctuation\">(</span>condition D<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">(</span>yes<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">:</span>Text 4<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">else</span> <span class=\"token punctuation\">(</span>nothing<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">:</span>Text else<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">endif</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>テスト実行 横表示</strong></em></p>\n<h3>Several tests (vertical mode)</h3>\n<div class=\"gatsby-highlight\" data-language=\"puml\"><pre class=\"language-puml\"><code class=\"language-puml\">@startuml\n!pragma useVerticalIf on\nstart\nif (condition A) then (yes)\n  :Text 1;\nelseif (condition B) then (yes)\n  :Text 2;\n  stop\nelseif (condition C) then (yes)\n  :Text 3;\nelseif (condition D) then (yes)\n  :Text 4;\nelse (nothing)\n  :Text else;\nendif\nstop\n@enduml</code></pre></div>\n<p><em><strong>テスト実行 縦表示</strong></em></p>\n<h3>Switch and case [switch, case, endswitch]</h3>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>test?<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">case</span> <span class=\"token punctuation\">(</span> condition A <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">:</span>Text 1<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">case</span> <span class=\"token punctuation\">(</span> condition B <span class=\"token punctuation\">)</span> \n  <span class=\"token punctuation\">:</span>Text 2<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">case</span> <span class=\"token punctuation\">(</span> condition C <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">:</span>Text 3<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">case</span> <span class=\"token punctuation\">(</span> condition D <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">:</span>Text 4<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">case</span> <span class=\"token punctuation\">(</span> condition E <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">:</span>Text 5<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">endswitch</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>switch,case文</strong></em></p>\n<h3>Conditional with stop on an action [kill, detach]</h3>\n<h4>stop action on a if loop</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span>\n  <span class=\"token punctuation\">:</span>error<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">stop</span>\n<span class=\"token keyword\">endif</span>\n<span class=\"token color symbol\">#palegreen</span><span class=\"token punctuation\">:</span>action<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>if文でstopで処理を止めるラインと処理を続けるライン</strong></em></p>\n<h3>kill or detach keyword</h3>\n<h4>kill</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span>\n  <span class=\"token color symbol\">#pink</span><span class=\"token punctuation\">:</span>error<span class=\"token punctuation\">;</span>\n  kill\n<span class=\"token keyword\">endif</span>\n<span class=\"token color symbol\">#palegreen</span><span class=\"token punctuation\">:</span>action<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>if文でkillで処理を止めるラインと処理を続けるライン(重大なエラーとかの時かな？？？)</strong></em></p>\n<h4>detach</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span>\n  <span class=\"token color symbol\">#pink</span><span class=\"token punctuation\">:</span>error<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">detach</span>\n<span class=\"token keyword\">endif</span>\n<span class=\"token color symbol\">#palegreen</span><span class=\"token punctuation\">:</span>action<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>if文でdetachで処理を止めるラインと処理を続けるライン(killと同様かな？)</strong></em></p>\n<h3>Repeat loop</h3>\n<h4>epeat and repeatwhile keywords to have repeat loops</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">repeat</span>\n<span class=\"token punctuation\">:</span>read data<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">:</span>generate diagrams<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">repeat</span> <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>more data?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> <span class=\"token punctuation\">(</span>yes<span class=\"token punctuation\">)</span>\n<span class=\"token arrow operator\">-></span>no<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>ループの基本形</strong></em></p>\n<h4>target and insert an action in the return path using the backward keyword</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">repeat</span> <span class=\"token punctuation\">:</span>foo <span class=\"token keyword\">as</span> starting label<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">:</span>read data<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">:</span>generate diagrams<span class=\"token punctuation\">;</span>\nbackward<span class=\"token punctuation\">:</span>This <span class=\"token keyword\">is</span> backward<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">repeat</span> <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>more data?<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p>***ループの戻りに処理名を入れる場合は<code class=\"language-text\">backward</code></p>\n<h3>Break on a repeat loop [break]</h3>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">repeat</span>\n  <span class=\"token punctuation\">:</span>Test something<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Something went wrong?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">)</span>\n      <span class=\"token color symbol\">#palegreen</span><span class=\"token punctuation\">:</span>OK<span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">break</span>\n    <span class=\"token keyword\">endif</span>\n    <span class=\"token arrow operator\">-></span>NOK<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">:</span>Alert <span class=\"token string\">\"Error with long text\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">repeat</span> <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>Something went wrong with long text?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> <span class=\"token punctuation\">(</span>yes<span class=\"token punctuation\">)</span> <span class=\"token keyword\">not</span> <span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">)</span>\n<span class=\"token arrow operator\">-></span>//merged step//<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">:</span>Alert <span class=\"token string\">\"Success\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>Breakで抜ける処理</strong></em></p>\n<h3>While loop</h3>\n<h4>while and endwhile keywords to have repeat loops</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>data available?<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">:</span>read data<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">:</span>generate diagrams<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">endwhile</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong><code class=\"language-text\">do while</code>ね</strong></em></p>\n<h4>label after the endwhile keyword, or using the is keyword.</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>check filesize ?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> <span class=\"token punctuation\">(</span>not empty<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">:</span>read file<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">endwhile</span> <span class=\"token punctuation\">(</span>empty<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">:</span>close file<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>ラベル付けね</strong></em></p>\n<h4>detach to form an infinite while loop, then you will want to also hide the partial arrow that results using</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token punctuation\">:</span>Step 1<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition1<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span>\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>loop forever<span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">:</span>Step 2<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">endwhile</span>\n  <span class=\"token arrow operator\">-<span class=\"token punctuation\">[</span><span class=\"token expression\">hidden</span><span class=\"token punctuation\">]</span>-></span>\n  <span class=\"token keyword\">detach</span>\n<span class=\"token keyword\">else</span>\n  <span class=\"token punctuation\">:</span>end normally<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">stop</span>\n<span class=\"token keyword\">endif</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>detachで処理終了 <code class=\"language-text\">-[hidden]-></code> でラインを消す</strong></em></p>\n<h3>Parallel processing</h3>\n<h4>fork</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">fork</span>\n  <span class=\"token punctuation\">:</span>action 1<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">fork again</span>\n  <span class=\"token punctuation\">:</span>action 2<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">end fork</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>並列処理</strong></em></p>\n<h4>fork with end merge</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">fork</span>\n  <span class=\"token punctuation\">:</span>action 1<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">fork again</span>\n  <span class=\"token punctuation\">:</span>action 2<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">end merge</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>並列処理から合流</strong></em></p>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">fork</span>\n  <span class=\"token punctuation\">:</span>action 1<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">fork again</span>\n  <span class=\"token punctuation\">:</span>action 2<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end merge</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span>\n</code></pre></div>\n<p><em><strong>並列処理から合流、かたや終了</strong></em></p>\n<h4>Label on end fork</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">fork</span>\n  <span class=\"token punctuation\">:</span>action A<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">fork again</span>\n  <span class=\"token punctuation\">:</span>action B<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">end fork</span> <span class=\"token punctuation\">{</span>or<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>ラベル付け</strong></em></p>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">fork</span>\n  <span class=\"token punctuation\">:</span>action A<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">fork again</span>\n  <span class=\"token punctuation\">:</span>action B<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">end fork</span> <span class=\"token punctuation\">{</span>and<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>ラベル付け</strong></em></p>\n<h4>Other example</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n\n<span class=\"token keyword\">start</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>multiprocessor?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">(</span>yes<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">fork</span>\n    <span class=\"token punctuation\">:</span>Treatment 1<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">fork again</span>\n    <span class=\"token punctuation\">:</span>Treatment 2<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">end fork</span>\n<span class=\"token keyword\">else</span> <span class=\"token punctuation\">(</span>monoproc<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">:</span>Treatment 1<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">:</span>Treatment 2<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">endif</span>\n\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>分岐・並列処理</strong></em></p>\n<h3>Split processing</h3>\n<h4>Split</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">split</span>\n   <span class=\"token punctuation\">:</span>A<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">split again</span>\n   <span class=\"token punctuation\">:</span>B<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">split again</span>\n   <span class=\"token punctuation\">:</span>C<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">split again</span>\n   <span class=\"token punctuation\">:</span>a<span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">:</span>b<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">end split</span>\n<span class=\"token punctuation\">:</span>D<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">end</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>分散</strong></em></p>\n<h4>Input split (multi-start)</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\">\t\n<span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">split</span>\n   <span class=\"token arrow operator\">-<span class=\"token punctuation\">[</span><span class=\"token expression\">hidden</span><span class=\"token punctuation\">]</span>-></span>\n   <span class=\"token punctuation\">:</span>A<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">split again</span>\n   <span class=\"token arrow operator\">-<span class=\"token punctuation\">[</span><span class=\"token expression\">hidden</span><span class=\"token punctuation\">]</span>-></span>\n   <span class=\"token punctuation\">:</span>B<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">split again</span>\n   <span class=\"token arrow operator\">-<span class=\"token punctuation\">[</span><span class=\"token expression\">hidden</span><span class=\"token punctuation\">]</span>-></span>\n   <span class=\"token punctuation\">:</span>C<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">end split</span>\n<span class=\"token punctuation\">:</span>D<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>最初から分散</strong></em></p>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">split</span>\n   <span class=\"token arrow operator\">-<span class=\"token punctuation\">[</span><span class=\"token expression\">hidden</span><span class=\"token punctuation\">]</span>-></span>\n   <span class=\"token punctuation\">:</span>A<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">split again</span>\n   <span class=\"token arrow operator\">-<span class=\"token punctuation\">[</span><span class=\"token expression\">hidden</span><span class=\"token punctuation\">]</span>-></span>\n   <span class=\"token punctuation\">:</span>a<span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">:</span>b<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">split again</span>\n   <span class=\"token arrow operator\">-<span class=\"token punctuation\">[</span><span class=\"token expression\">hidden</span><span class=\"token punctuation\">]</span>-></span>\n   <span class=\"token punctuation\">(</span>Z<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">end split</span>\n<span class=\"token punctuation\">:</span>D<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>最初から分散・複数処理</strong></em></p>\n<h3>Output split (multi-end)</h3>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">split</span>\n   <span class=\"token punctuation\">:</span>A<span class=\"token punctuation\">;</span>\n   kill\n<span class=\"token keyword\">split again</span>\n   <span class=\"token punctuation\">:</span>B<span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">detach</span>\n<span class=\"token keyword\">split again</span>\n   <span class=\"token punctuation\">:</span>C<span class=\"token punctuation\">;</span>\n   kill\n<span class=\"token keyword\">end split</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>分散処理で終了</strong></em></p>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">split</span>\n   <span class=\"token punctuation\">:</span>A<span class=\"token punctuation\">;</span>\n   kill\n<span class=\"token keyword\">split again</span>\n   <span class=\"token punctuation\">:</span>b<span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">:</span>c<span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">detach</span>\n<span class=\"token keyword\">split again</span>\n   <span class=\"token punctuation\">(</span>Z<span class=\"token punctuation\">)</span>\n   <span class=\"token keyword\">detach</span>\n<span class=\"token keyword\">split again</span>\n   <span class=\"token keyword\">end\nsplit</span> again\n   <span class=\"token keyword\">stop</span>\n<span class=\"token keyword\">end split</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>分散処理で終了の仕方いろいろ</strong></em></p>\n<h3>notes</h3>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n\n<span class=\"token keyword\">start</span>\n<span class=\"token punctuation\">:</span>foo1<span class=\"token punctuation\">;</span>\nfloating note left<span class=\"token punctuation\">:</span> This <span class=\"token keyword\">is</span> a note\n<span class=\"token punctuation\">:</span>foo2<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">note</span> right\n  This note <span class=\"token keyword\">is</span> on several\n  //lines// and can\n  contain &lt;b>HTML&lt;/b>\n  ====\n  * Calling the method <span class=\"token string\">\"\"</span>foo<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token string\">\"\"</span> <span class=\"token keyword\">is</span> prohibited\n<span class=\"token keyword\">end note</span>\n<span class=\"token keyword\">stop</span>\n\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>ノート</strong></em></p>\n<h4>add note on backward activity</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">repeat</span> <span class=\"token punctuation\">:</span>Enter data<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">:</span>Submit<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">backward</span> <span class=\"token punctuation\">:</span>Warning<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">note</span> right<span class=\"token punctuation\">:</span> Note\n<span class=\"token keyword\">repeat</span> <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>Valid?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> <span class=\"token punctuation\">(</span>No<span class=\"token punctuation\">)</span> <span class=\"token keyword\">not</span> <span class=\"token punctuation\">(</span>Yes<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>ノート基本形</strong></em></p>\n<h4>add note on partition activity</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\npartition <span class=\"token string\">\"**process** HelloWorld\"</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">note</span>\n        This <span class=\"token keyword\">is</span> my note\n        ----\n        //Creole test//\n    <span class=\"token keyword\">end note</span>\n    <span class=\"token punctuation\">:</span>Ready<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">:</span>HelloWorld<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>>\n    <span class=\"token punctuation\">:</span>Hell<span class=\"token arrow operator\">o-</span>Sent<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>partitionにノート</strong></em></p>\n<h3>Colors</h3>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n\n<span class=\"token keyword\">start</span>\n<span class=\"token punctuation\">:</span>starting progress<span class=\"token punctuation\">;</span>\n#HotPink<span class=\"token punctuation\">:</span>reading configuration files\nThese files should be edited at this point!<span class=\"token punctuation\">;</span>\n<span class=\"token color symbol\">#AAAAAA</span><span class=\"token punctuation\">:</span>ending of the process<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>色付け</strong></em></p>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\npartition <span class=\"token color symbol\">#red</span>/white testPartition <span class=\"token punctuation\">{</span>\n        <span class=\"token color symbol\">#blue</span>\\green<span class=\"token punctuation\">:</span>testActivity<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>色付け</strong></em></p>\n<h4>Lines without arrows</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">skinparam</span> ArrowHeadColor none\n<span class=\"token keyword\">start</span>\n<span class=\"token punctuation\">:</span>Hello world<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">:</span>This <span class=\"token keyword\">is</span> on defined on\nseveral **lines**<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>矢印除去(ラインのみ)</strong></em></p>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">skinparam</span> ArrowHeadColor none\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">repeat</span> <span class=\"token punctuation\">:</span>Enter data<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">:</span>Submit<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">backward</span> <span class=\"token punctuation\">:</span>Warning<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">repeat</span> <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>Valid?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> <span class=\"token punctuation\">(</span>No<span class=\"token punctuation\">)</span> <span class=\"token keyword\">not</span> <span class=\"token punctuation\">(</span>Yes<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>矢印除去(ラインのみ)</strong></em></p>\n<h3>Arrows</h3>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token punctuation\">:</span>foo1<span class=\"token punctuation\">;</span>\n<span class=\"token arrow operator\">-></span> You can put text on arrows<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>test<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span>\n  <span class=\"token arrow operator\">-<span class=\"token punctuation\">[</span><span class=\"token expression\"><span class=\"token color symbol\">#blue</span></span><span class=\"token punctuation\">]</span>-></span>\n  <span class=\"token punctuation\">:</span>foo2<span class=\"token punctuation\">;</span>\n  <span class=\"token arrow operator\">-<span class=\"token punctuation\">[</span><span class=\"token expression\"><span class=\"token color symbol\">#green</span><span class=\"token punctuation\">,</span>dashed</span><span class=\"token punctuation\">]</span>-></span> The text can\n  also be on several lines\n  and **very** long<span class=\"token punctuation\">...</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">:</span>foo3<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">else</span>\n  <span class=\"token arrow operator\">-<span class=\"token punctuation\">[</span><span class=\"token expression\"><span class=\"token color symbol\">#black</span><span class=\"token punctuation\">,</span>dotted</span><span class=\"token punctuation\">]</span>-></span>\n  <span class=\"token punctuation\">:</span>foo4<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">endif</span>\n<span class=\"token arrow operator\">-<span class=\"token punctuation\">[</span><span class=\"token expression\"><span class=\"token color symbol\">#gray</span><span class=\"token punctuation\">,</span>bold</span><span class=\"token punctuation\">]</span>-></span>\n<span class=\"token punctuation\">:</span>foo5<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>矢印の色</strong></em></p>\n<h3>Connector</h3>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token punctuation\">:</span>Some activity<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">detach</span>\n<span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">:</span>Other activity<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>接続 DBとかかな？</strong></em></p>\n<h3>color on connector</h3>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token punctuation\">:</span>The connector below\nwishes he was blue<span class=\"token punctuation\">;</span>\n<span class=\"token color symbol\">#blue</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>B<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">:</span>This next connector\nfeels that she would\nbe better off green<span class=\"token punctuation\">;</span>\n<span class=\"token color symbol\">#green</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>色付け</strong></em></p>\n<h3>Grouping or partition</h3>\n<h4>Group</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">group</span> Initialization \n    <span class=\"token punctuation\">:</span>read config file<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">:</span>init internal variable<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">end group</span>\n<span class=\"token keyword\">group</span> Running group\n    <span class=\"token punctuation\">:</span>wait for user interaction<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">:</span>print information<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">end group</span>\n\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>グルーピング</strong></em></p>\n<h4>Partition</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\npartition Initialization <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">:</span>read config file<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">:</span>init internal variable<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\npartition Running <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">:</span>wait for user interaction<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">:</span>print information<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>グルーピング</strong></em></p>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\npartition #lightGreen <span class=\"token string\">\"Input Interface\"</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">:</span>read config file<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">:</span>init internal variable<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\npartition Running <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">:</span>wait for user interaction<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">:</span>print information<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>グルーピングカラー</strong></em></p>\n<h3>Detach or kill [detach, kill]</h3>\n<h4>detach</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n <span class=\"token punctuation\">:</span>start<span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">fork</span>\n   <span class=\"token punctuation\">:</span>foo1<span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">:</span>foo2<span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">fork again</span>\n   <span class=\"token punctuation\">:</span>foo3<span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">detach</span>\n endfork\n <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>foo4<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span>\n   <span class=\"token punctuation\">:</span>foo5<span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">detach</span>\n <span class=\"token keyword\">endif</span>\n <span class=\"token punctuation\">:</span>foo6<span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">detach</span>\n <span class=\"token punctuation\">:</span>foo7<span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>detachで処理をとめる</strong></em></p>\n<h4>kill</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n <span class=\"token punctuation\">:</span>start<span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">fork</span>\n   <span class=\"token punctuation\">:</span>foo1<span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">:</span>foo2<span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">fork again</span>\n   <span class=\"token punctuation\">:</span>foo3<span class=\"token punctuation\">;</span>\n   kill\n endfork\n <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>foo4<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span>\n   <span class=\"token punctuation\">:</span>foo5<span class=\"token punctuation\">;</span>\n   kill\n <span class=\"token keyword\">endif</span>\n <span class=\"token punctuation\">:</span>foo6<span class=\"token punctuation\">;</span>\n kill\n <span class=\"token punctuation\">:</span>foo7<span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">stop</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>killで処理をとめる</strong></em></p>\n<h3>SDL (Specification and Description Language)</h3>\n<div class=\"gatsby-highlight\" data-language=\"txt\"><pre class=\"language-txt\"><code class=\"language-txt\">- |\n- &lt;\n- >\n- /\n- \\\\\n- ]\n- }</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token punctuation\">:</span>Ready<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">:</span>next<span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">)</span>|\n<span class=\"token punctuation\">:</span>Receiving<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">split</span>\n <span class=\"token punctuation\">:</span>nak<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>&lt;\n <span class=\"token punctuation\">:</span>ack<span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">)</span>>\n<span class=\"token keyword\">split again</span>\n <span class=\"token punctuation\">:</span>ack<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>&lt;\n <span class=\"token punctuation\">:</span>next<span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">)</span>\n on several lines|\n <span class=\"token punctuation\">:</span>i <span class=\"token punctuation\">:</span>= i + 1<span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">:</span>ack<span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">)</span>>\n<span class=\"token keyword\">split again</span>\n <span class=\"token punctuation\">:</span>err<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>&lt;\n <span class=\"token punctuation\">:</span>nak<span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">)</span>>\n<span class=\"token keyword\">split again</span>\n <span class=\"token punctuation\">:</span>foo/\n<span class=\"token keyword\">split again</span>\n <span class=\"token punctuation\">:</span>bar\\\\\n<span class=\"token keyword\">split again</span>\n <span class=\"token punctuation\">:</span>i > 5<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">stop</span>\n<span class=\"token keyword\">end split</span>\n<span class=\"token punctuation\">:</span>finish<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>処理の種類</strong></em></p>\n<h4>Complete example</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n\n<span class=\"token keyword\">start</span>\n<span class=\"token punctuation\">:</span>ClickServlet.handleRequest<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">:</span>new page<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Page<span class=\"token arrow operator\">.o</span>nSecurityCheck<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">(</span>true<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">:</span>Page<span class=\"token arrow operator\">.o</span>nInit<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isForward?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">:</span>Process controls<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>continue processing?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">stop</span>\n    <span class=\"token keyword\">endif</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isPost?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">(</span>yes<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">:</span>Page<span class=\"token arrow operator\">.o</span>nPost<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">else</span> <span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">:</span>Page<span class=\"token arrow operator\">.o</span>nGet<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">endif</span>\n    <span class=\"token punctuation\">:</span>Page<span class=\"token arrow operator\">.o</span>nRender<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">endif</span>\n<span class=\"token keyword\">else</span> <span class=\"token punctuation\">(</span>false<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">endif</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>do redirect?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">(</span>yes<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">:</span>redirect process<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">else</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>do forward?<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">(</span>yes<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">:</span>Forward request<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">else</span> <span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">:</span>Render page template<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">endif</span>\n<span class=\"token keyword\">endif</span>\n\n<span class=\"token keyword\">stop</span>\n\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong>完成形</strong></em></p>\n<h3>Condition Style</h3>\n<h4>Inside style (by default)</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">skinparam</span> conditionStyle inside\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">repeat</span>\n  <span class=\"token punctuation\">:</span>act1<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">:</span>act2<span class=\"token punctuation\">;</span>\nrepeatwhile <span class=\"token punctuation\">(</span>&lt;b>end<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">:</span>act3<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p>この２つ\n<em><strong><code class=\"language-text\">skinparam conditionStyle inside</code></strong></em>\n<em><strong><code class=\"language-text\">repeatwhile (&lt;b>end)</code></strong></em></p>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">repeat</span>\n  <span class=\"token punctuation\">:</span>act1<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">:</span>act2<span class=\"token punctuation\">;</span>\nrepeatwhile <span class=\"token punctuation\">(</span>&lt;b>end<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">:</span>act3<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong><code class=\"language-text\">repeatwhile (&lt;b>end)</code></strong></em></p>\n<h4>Diamond style</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">skinparam</span> conditionStyle diamond\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">repeat</span>\n  <span class=\"token punctuation\">:</span>act1<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">:</span>act2<span class=\"token punctuation\">;</span>\nrepeatwhile <span class=\"token punctuation\">(</span>&lt;b>end<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">:</span>act3<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p>この２つ\n<em><strong><code class=\"language-text\">skinparam conditionStyle diamond</code></strong></em>\n<em><strong><code class=\"language-text\">repeatwhile (&lt;b>end)</code></strong></em></p>\n<h4>InsideDiamond (or Foo1) style</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">skinparam</span> conditionStyle InsideDiamond\n<span class=\"token keyword\">start</span>\n<span class=\"token keyword\">repeat</span>\n  <span class=\"token punctuation\">:</span>act1<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">:</span>act2<span class=\"token punctuation\">;</span>\nrepeatwhile <span class=\"token punctuation\">(</span>&lt;b>end<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">:</span>act3<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong><code class=\"language-text\">skinparam conditionStyle InsideDiamond</code></strong></em>  で内部表示</p>\n<h3>Condition End Style</h3>\n<h4>Diamond style (by default)</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">skinparam</span> ConditionEndStyle diamond\n<span class=\"token punctuation\">:</span>A<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>decision<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">(</span>yes<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">:</span>B1<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">else</span> <span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">endif</span>\n<span class=\"token punctuation\">:</span>C<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><code class=\"language-text\">skinparam ConditionEndStyle diamond</code>  で空になる</p>\n<h4>With two branches (B1, B2)</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">skinparam</span> ConditionEndStyle diamond\n<span class=\"token punctuation\">:</span>A<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>decision<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">(</span>yes<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">:</span>B1<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">else</span> <span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">:</span>B2<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">endif</span>\n<span class=\"token punctuation\">:</span>C<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<h3>Horizontal line (hline) style</h3>\n<h4>With one branch</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">skinparam</span> ConditionEndStyle hline\n<span class=\"token punctuation\">:</span>A<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>decision<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">(</span>yes<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">:</span>B1<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">else</span> <span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">endif</span>\n<span class=\"token punctuation\">:</span>C<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong><code class=\"language-text\">skinparam ConditionEndStyle hline</code>で 並行のライン表示</strong></em></p>\n<h4>With two branches (B1, B2)</h4>\n<div class=\"gatsby-highlight\" data-language=\"plantuml\"><pre class=\"language-plantuml\"><code class=\"language-plantuml\"><span class=\"token delimiter punctuation\">@startuml</span>\n<span class=\"token keyword\">skinparam</span> ConditionEndStyle hline\n<span class=\"token punctuation\">:</span>A<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>decision<span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">(</span>yes<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">:</span>B1<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">else</span> <span class=\"token punctuation\">(</span>no<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">:</span>B2<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">endif</span>\n<span class=\"token punctuation\">:</span>C<span class=\"token punctuation\">;</span>\n<span class=\"token delimiter punctuation\">@enduml</span>\n<span class=\"token delimiter punctuation\">@enduml</span></code></pre></div>\n<p><em><strong><code class=\"language-text\">skinparam ConditionEndStyle hline</code>で 並行のライン表示</strong></em></p>","frontmatter":{"title":"UML (アクティビティ図)","date":"March 18, 2023","post_modified":"March 18, 2023","description":"Markdown で PlantUML、アクティビティ図","tags":["UML","Markdown"],"draft":false}},"previous":{"fields":{"slug":"/Tools/uml/state/"},"frontmatter":{"title":"UML (ステート図)"}},"next":null},"pageContext":{"id":"be69d85d-70bd-5604-b4b8-5bc9394dc79c","previousPostId":"35ec11cf-7187-5bbe-8fe3-8759341bd629","nextPostId":null,"draft":false}},"staticQueryHashes":["1126706167","1176493165","1188992244","1314910092","1760060771","2772418575","3679674316"]}