{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/Tools/sed_basic/",
    "result": {"data":{"site":{"siteMetadata":{"title":"おっさんWEBエンジニア奮闘記"}},"markdownRemark":{"id":"42eed439-43a7-539d-a0cf-19e30ac9c394","excerpt":"mark mean . # 任意の一文字 * # 直前の文字が任意の個数続く文字列(0 個も含む) * # 連続する SPACE を表す  # TAB .* # 任意の文字列 置換 デリミタ s の次の文字がデリミタになる。 TAB, SPACE 行の削除 指定した行だけ表示 (-n…","html":"<table>\n<thead>\n<tr>\n<th>mark</th>\n<th>mean</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>.</td>\n<td># 任意の一文字</td>\n</tr>\n<tr>\n<td>*</td>\n<td># 直前の文字が任意の個数続く文字列(0 個も含む)</td>\n</tr>\n<tr>\n<td><space><space>*</td>\n<td># 連続する SPACE を表す</td>\n</tr>\n<tr>\n<td><tab></td>\n<td># TAB</td>\n</tr>\n<tr>\n<td>.*</td>\n<td># 任意の文字列</td>\n</tr>\n</tbody>\n</table>\n<h2>置換</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sed</span> -e <span class=\"token string\">\"s/aaaa/bbbb/\"</span>       <span class=\"token comment\"># 置換 行で最初に出てきた'aaaa'を'bbbb'に置換</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">\"s/aaaa/bbbb/g\"</span>      <span class=\"token comment\"># 入力の全行に渡って置換 (Global)</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">\"s/^aaaa/bbbb/\"</span>      <span class=\"token comment\"># 行頭(^)に'aaaa'のもの</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">\"s/aaaa\\$/bbbb/\"</span>     <span class=\"token comment\"># 行末($)に'aaaa'のもの。$は\\でescape</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">\"s/~/bbbb/\"</span>          <span class=\"token comment\"># 行頭に'bbbb'を追加</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">\"s/\\$/bbbb/\"</span>         <span class=\"token comment\"># 行末に'bbbb'を追加</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">\"s/.*/abcd/\"</span>         <span class=\"token comment\"># すべての行を'abcd'に置換</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">\"s/aa.*bb//\"</span>         <span class=\"token comment\"># aa*bbを削除</span></code></pre></div>\n<h2>デリミタ</h2>\n<p><strong>s の次の文字がデリミタになる。</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span> <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> -e <span class=\"token string\">\"s@old1@new1@g\"</span> -e <span class=\"token string\">\"s/old2/new2/g\"</span>\n<span class=\"token function\">cat</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span> <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> -e <span class=\"token string\">\"s@ol/d1@n/ew1@g\"</span> -e <span class=\"token string\">\"s/old2/new2/g\"</span>  <span class=\"token comment\">#ol/d1 を n/ew1 に置換</span></code></pre></div>\n<h2>TAB, SPACE</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sed</span> -e <span class=\"token string\">'s/&lt;tab>/&lt;space>/g'</span>                       <span class=\"token comment\"># TABをSPACEに置換</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">\"s/&lt;space>&lt;space>*/&lt;space>/g\"</span>             <span class=\"token comment\"># 複数のスペースを&lt;space>に置換。&lt;space>*ではない</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">\"s/[&lt;tab>&lt;space>][&lt;tab>&lt;space>]*/&lt;space>/g\"</span>   <span class=\"token comment\"># ホワイトスペースを&lt;space>に置換</span></code></pre></div>\n<h2>行の削除</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sed</span> -e <span class=\"token string\">'1d'</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span>                <span class=\"token comment\"># 1行目を消去</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">'1,4d'</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span>              <span class=\"token comment\"># 1-4行目を消去</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">\"/<span class=\"token variable\">$d</span>\"</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span>               <span class=\"token comment\"># 最終行を消去</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">'$-3,$d'</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span>            <span class=\"token comment\"># 最後の4行を消去。$-3:最後から数えて3行目、すなわち最後から4行目</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">\"/aaa/d\"</span>                 <span class=\"token comment\"># aaaを含む行を削除 sはいらない</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">\"/^[&lt;space>&lt;tab>]*$/d\"</span>   <span class=\"token comment\"># 空白行の削除</span></code></pre></div>\n<h2>指定した行だけ表示 (-n オプション)</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sed</span> -n <span class=\"token string\">'1,4p'</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span>\n<span class=\"token function\">sed</span> -n <span class=\"token string\">'$p'</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span>\n<span class=\"token function\">sed</span> -n <span class=\"token string\">'2p'</span>                <span class=\"token comment\"># 指示した行だけを標準出力に</span>\n<span class=\"token function\">sed</span> -n <span class=\"token string\">'2p'</span> <span class=\"token operator\">&lt;</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span>\n<span class=\"token function\">sed</span> -n <span class=\"token string\">\"s/aaaa/bbbb/gp\"</span>    <span class=\"token comment\"># テキストが置換された行だけを表示</span></code></pre></div>\n<h2>文字列の一部分を取り出す</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sed</span> -e <span class=\"token string\">\"s/aa.*\\(.*\\)b\\(.*\\)b/<span class=\"token entity\" title=\"\\1\">\\1</span>/\"</span>    <span class=\"token comment\"># 1つ目の()で囲まれた部分を取り出す。()は\\でescapeする</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">'s/aa.*(.*)b(.*)b/\\2/'</span>        <span class=\"token comment\"># 2つ目の()で囲まれた部分を取り出す</span>\n<span class=\"token comment\"># Example</span>\n$ <span class=\"token function\">id</span> root\n<span class=\"token assign-left variable\">uid</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span> <span class=\"token assign-left variable\">gid</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span> <span class=\"token assign-left variable\">groups</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span>\n$ <span class=\"token function\">id</span> root <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> -e <span class=\"token string\">'s/uid=\\(.*\\)(\\(.*\\)) gid=.*/\\1/'</span>\n<span class=\"token number\">0</span>\n$ <span class=\"token function\">id</span> root <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> -e <span class=\"token string\">'s/uid=\\(.*\\)(\\(.*\\)) gid=.*/\\2/'</span>\nroot</code></pre></div>\n<h2>キーワードによる行の指定</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sed</span> -e <span class=\"token string\">'2,$s/aaa/bbb/g'</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span>         <span class=\"token comment\"># 2行目から最終行まで処理する</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">'/aaaa/,/bbbb/d'</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span>         <span class=\"token comment\"># aaaaを含む行からbbbbを含む行までを削除</span>\n<span class=\"token function\">sed</span> -n <span class=\"token string\">'/aaaa/,/bbbb/p'</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span>         <span class=\"token comment\"># aaaaを含む行からbbbbを含む行までを表示</span>\n\n<span class=\"token function\">sed</span> -n <span class=\"token string\">'/^BEGIN$/,/^END$/p'</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span>     <span class=\"token comment\"># BEGINのみの行からENDのみの行までを表示する</span>\n<span class=\"token function\">sed</span> -n <span class=\"token string\">'/^BEGIN$/,/^END$/!p'</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span>    <span class=\"token comment\"># BEGINのみの行からENDのみの行までを表示しない</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">'/^BEGIN$/,/^END$/d'</span> <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span>     <span class=\"token comment\"># BEGINのみの行からENDのみの行までを削除</span></code></pre></div>\n<h2>特定の範囲指定</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">target_content</span><span class=\"token operator\">=</span>``<span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">cat</span> $html_file <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token string\">'/[\\&lt;pre>/,/[^\\&lt;\\/pre>]*\\&lt;\\/pre>/d'</span><span class=\"token variable\">`</span></span>``</code></pre></div>\n<h2>sed では \\d が使えない</h2>\n<p><code class=\"language-text\">[0-9]</code> を使う</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sed</span>  -i -e <span class=\"token string\">\"s/https:\\/\\/blog.webdimension.jp\\/wp-content\\/uploads\\/[0-9][0-9][0-9][0-9]\\/[0-9][0-9]\\//images\\//g\"</span> <span class=\"token variable\">$markdown_file</span></code></pre></div>","frontmatter":{"title":"sed 基本知識","date":"February 23, 2022","post_modified":"February 23, 2022","description":"sed コマンド コピペ用","tags":["sed","Command","テキスト処理"],"draft":false}},"previous":{"fields":{"slug":"/Tools/regex_basic/"},"frontmatter":{"title":"正規表現 基本知識"}},"next":{"fields":{"slug":"/Tools/sort_basic/"},"frontmatter":{"title":"sort コマンド 基本知識"}}},"pageContext":{"id":"42eed439-43a7-539d-a0cf-19e30ac9c394","previousPostId":"3128c9cc-f74b-5aaa-aa9d-176d850cfb0e","nextPostId":"4f468f2a-acb0-5ec9-a72e-3b8183349ca6","draft":false}},
    "staticQueryHashes": ["1126706167","1176493165","1188992244","1314910092","1760060771","2772418575","3679674316"]}