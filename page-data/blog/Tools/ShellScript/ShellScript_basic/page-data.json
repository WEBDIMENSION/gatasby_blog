{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/Tools/ShellScript/ShellScript_basic/",
    "result": {"data":{"site":{"siteMetadata":{"title":"おっさんWEBエンジニア奮闘記"}},"markdownRemark":{"id":"6b00f73d-2bfc-55e8-9be1-8ea424e8a8e8","excerpt":"特殊パラメータ 変数名 内容 $# パラメータ数 $? 直前のコマンドのステータス $$ プロセス ID $! 最後に実行したバックグラウンドコマンドのプロセス ID declare オプション 属性 -r 読み取り専用 -i 整数 -a 配列 -A…","html":"<h2>特殊パラメータ</h2>\n<table>\n<thead>\n<tr>\n<th>変数名</th>\n<th>内容</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>$#</td>\n<td>パラメータ数</td>\n</tr>\n<tr>\n<td>$?</td>\n<td>直前のコマンドのステータス</td>\n</tr>\n<tr>\n<td>$$</td>\n<td>プロセス ID</td>\n</tr>\n<tr>\n<td>$!</td>\n<td>最後に実行したバックグラウンドコマンドのプロセス ID</td>\n</tr>\n</tbody>\n</table>\n<h2>declare</h2>\n<table>\n<thead>\n<tr>\n<th>オプション</th>\n<th>属性</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>-r</td>\n<td>読み取り専用</td>\n</tr>\n<tr>\n<td>-i</td>\n<td>整数</td>\n</tr>\n<tr>\n<td>-a</td>\n<td>配列</td>\n</tr>\n<tr>\n<td>-A</td>\n<td>連想配列</td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 等価</span>\n<span class=\"token builtin class-name\">declare</span> -r var1\n<span class=\"token builtin class-name\">readonly</span> var1</code></pre></div>\n<h2>連想配列</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">declare</span> -A <span class=\"token assign-left variable\">user</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>yamada <span class=\"token punctuation\">[</span>class<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>A-1<span class=\"token punctuation\">)</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">${user<span class=\"token punctuation\">[</span>id<span class=\"token punctuation\">]</span>}</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">${user<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span>}</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">${user<span class=\"token punctuation\">[</span>class<span class=\"token punctuation\">]</span>}</span></code></pre></div>\n<h3>値の取得</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">${user<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span>}</span>\"</span></code></pre></div>\n<h3>キーの取得</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">${<span class=\"token operator\">!</span>user<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span>}</span>\"</span></code></pre></div>\n<h2>変数の初期化</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">${name<span class=\"token operator\">:-</span>yamada}</span>\n<span class=\"token assign-left variable\">name</span><span class=\"token operator\">=</span>suzuki\n<span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">${name<span class=\"token operator\">:-</span>yamada}</span></code></pre></div>\n<h2>算術</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">declare</span> -i <span class=\"token function\">sum</span>\n<span class=\"token assign-left variable\">sum</span><span class=\"token operator\">=</span><span class=\"token number\">5</span>+3\n<span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$sum</span>\n<span class=\"token comment\"># 8</span>\nor\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token variable\"><span class=\"token variable\">$((</span>sum<span class=\"token operator\">=</span><span class=\"token number\">5</span><span class=\"token operator\">+</span><span class=\"token number\">3</span><span class=\"token variable\">))</span></span>\n<span class=\"token comment\">#8</span></code></pre></div>\n<h2>noclobber</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">set</span> -o noclobber\n<span class=\"token function\">touch</span> abc.txt\n<span class=\"token function\">ps</span> <span class=\"token operator\">></span> abc.txt\n<span class=\"token comment\"># Eror</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">set</span> -o noclobber\n<span class=\"token function\">touch</span> abc.txt\n<span class=\"token function\">ps</span> <span class=\"token operator\">>|</span> abc.txt\n<span class=\"token comment\"># overwrite</span></code></pre></div>\n<h2>Get parameter</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">read</span> -p <span class=\"token string\">$'<span class=\"token entity\" title=\"\\e\">\\e</span>[93mInstall(i) or Uninstall(u): '</span> action\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$action</span> <span class=\"token operator\">=</span> <span class=\"token string\">'i'</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n<span class=\"token punctuation\">..</span>.\neactionlse\n\t<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'Your iput is missig'</span>\n\t<span class=\"token builtin class-name\">read</span> -p <span class=\"token string\">$'<span class=\"token entity\" title=\"\\e\">\\e</span>[93mInstall(i) or Uninstall(u): '</span> action\n<span class=\"token keyword\">fi</span></code></pre></div>\n<h2>Loop</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">files</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>.bashrc .zshrc .bash_profile<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">file</span> <span class=\"token keyword\">in</span> <span class=\"token variable\">${files<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span>}</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span>\n\t  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> -e <span class=\"token environment constant\">$HOME</span>/<span class=\"token variable\">$file</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n\t\t\t<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">f</span> <span class=\"token keyword\">in</span> *.alias<span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span>\n\t\t\t\t<span class=\"token punctuation\">..</span>.\n\t\t  <span class=\"token keyword\">done</span> <span class=\"token operator\">&lt;</span> <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token function\">ls</span> *<span class=\"token punctuation\">)</span>\n\t\t  <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">${END}</span> <span class=\"token operator\">>></span> <span class=\"token environment constant\">$HOME</span>/<span class=\"token variable\">$file</span>\n\t  <span class=\"token keyword\">fi</span>\n\t<span class=\"token keyword\">done</span></code></pre></div>\n<h2>Replace between start and end</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">files</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>.zshrc<span class=\"token punctuation\">)</span>\n<span class=\"token assign-left variable\">START</span><span class=\"token operator\">=</span><span class=\"token string\">\"# import aliases start\"</span>\n<span class=\"token assign-left variable\">END</span><span class=\"token operator\">=</span><span class=\"token string\">\"# import aliases end\"</span>\n\t <span class=\"token function\">sed</span> -i -e <span class=\"token string\">\"/^<span class=\"token variable\">${START}</span>/,/^<span class=\"token variable\">${END}</span>/d\"</span> <span class=\"token environment constant\">$HOME</span>/<span class=\"token variable\">$file</span></code></pre></div>\n<h2>Function</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">START</span><span class=\"token operator\">=</span><span class=\"token string\">\"# import aliases start\"</span>\n<span class=\"token assign-left variable\">END</span><span class=\"token operator\">=</span><span class=\"token string\">\"# import aliases end\"</span>\n<span class=\"token function-name function\">func_remove_text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">sed</span> -i -e <span class=\"token string\">\"/^<span class=\"token variable\">${START}</span>/,/^<span class=\"token variable\">${END}</span>/d\"</span> <span class=\"token variable\">$1</span>\n<span class=\"token punctuation\">}</span>\n\tfunc_remove_text <span class=\"token environment constant\">$HOME</span>/<span class=\"token variable\">$file</span></code></pre></div>\n<h3>引数の数チェック</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$#</span> <span class=\"token operator\">!=</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Please specify param\"</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"ls: dump list\"</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"rm: remove dumpfiles\"</span>\n    <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span></code></pre></div>\n<h2>Specify enxtensin and loop</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\t<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">f</span> <span class=\"token keyword\">in</span> <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">find</span> $DIR -maxdepth <span class=\"token number\">1</span> -type f -name <span class=\"token string\">\"*.alias\"</span><span class=\"token variable\">`</span></span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span>\n  \t\t<span class=\"token comment\">#echo \"source $DIR/\"${f%.*}\"\" >> $HOME/$file</span>\n\t\t\t<span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$f</span>\n  \t\t<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"source <span class=\"token variable\">$f</span>\"</span> <span class=\"token operator\">>></span> <span class=\"token environment constant\">$HOME</span>/<span class=\"token variable\">$file</span>\n  <span class=\"token keyword\">done</span> <span class=\"token operator\">&lt;</span> <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token function\">ls</span> *<span class=\"token punctuation\">)</span></code></pre></div>\n<h2>Exec file path</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\">#Drive\u001b$B!J%\"!&lt;%+%$%V!K\u001b(B/This path</span>\n<span class=\"token assign-left variable\">DIR</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">cd</span> <span class=\"token punctuation\">$(</span>dirname $0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">pwd</span><span class=\"token variable\">)</span></span></code></pre></div>\n<h2>OS 判定</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span><span class=\"token variable\">)</span></span>\"</span> <span class=\"token operator\">==</span> <span class=\"token string\">'Darwin'</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n<span class=\"token assign-left variable\">CONTAINER_PATH</span><span class=\"token operator\">=~</span>/Library/Containers/com.docker.docker/Data/vms/0/data/Docker.raw\n<span class=\"token keyword\">elif</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">expr</span> substr <span class=\"token punctuation\">$(</span>uname -s<span class=\"token punctuation\">)</span> <span class=\"token number\">1</span> <span class=\"token number\">5</span><span class=\"token variable\">)</span></span>\"</span> <span class=\"token operator\">==</span> <span class=\"token string\">'Linux'</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n<span class=\"token assign-left variable\">CONTAINER_PATH</span><span class=\"token operator\">=</span>/var/lib/docker\n<span class=\"token keyword\">elif</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">expr</span> substr <span class=\"token punctuation\">$(</span>uname -s<span class=\"token punctuation\">)</span> <span class=\"token number\">1</span> <span class=\"token number\">10</span><span class=\"token variable\">)</span></span>\"</span> <span class=\"token operator\">==</span> <span class=\"token string\">'MINGW32_NT'</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n<span class=\"token assign-left variable\">CONTAINER_PATH</span><span class=\"token operator\">=</span>\n<span class=\"token keyword\">else</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Your platform (<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> -a<span class=\"token variable\">)</span></span>) is not supported.\"</span>\n<span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span></code></pre></div>\n<h2>color</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> -e <span class=\"token string\">$'<span class=\"token entity\" title=\"\\e\">\\e</span>[96m'</span></code></pre></div>\n<h2>表示㝮整形</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token function\">ps</span> --format <span class=\"token string\">'table {{.Image}} {{.Names}} {{.Status}}'</span> <span class=\"token operator\">|</span> <span class=\"token function\">column</span> -t</code></pre></div>\n<h2>指定間隔㝧実行</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">while</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">do</span>\n  func_docker_disk_used<span class=\"token punctuation\">;</span><span class=\"token function\">sleep</span> <span class=\"token number\">30</span><span class=\"token punctuation\">;</span><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"\"</span>\n<span class=\"token keyword\">done</span></code></pre></div>\n<h2>実行絝果を変数へ保存</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function-name function\">func_docker_disk_used</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n somue\n<span class=\"token punctuation\">}</span>\n<span class=\"token assign-left variable\">result</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">ls</span> -klsh $CONTAINER_PATH<span class=\"token variable\">)</span></span>\n<span class=\"token assign-left variable\">used_total</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token builtin class-name\">echo</span> $result <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'{ print $1 }'</span><span class=\"token variable\">`</span></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Progress</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function-name function\">prog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin class-name\">local</span> <span class=\"token assign-left variable\">w</span><span class=\"token operator\">=</span><span class=\"token number\">80</span> <span class=\"token assign-left variable\">p</span><span class=\"token operator\">=</span><span class=\"token variable\">$1</span><span class=\"token punctuation\">;</span>  <span class=\"token builtin class-name\">shift</span>\n    <span class=\"token function\">clear</span>\n    <span class=\"token comment\"># create a string of spaces, then change them to dots</span>\n    <span class=\"token builtin class-name\">printf</span> -v dots <span class=\"token string\">\"%*s\"</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$((</span> $p<span class=\"token operator\">*</span>$w<span class=\"token operator\">/</span><span class=\"token number\">100</span> <span class=\"token variable\">))</span></span>\"</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span> <span class=\"token assign-left variable\">dots</span><span class=\"token operator\">=</span><span class=\"token variable\">${dots<span class=\"token operator\">/</span><span class=\"token operator\">/</span> <span class=\"token operator\">/</span>.}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\"># print those dots on a fixed-width space plus the percentage etc.</span>\n    <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"<span class=\"token entity\" title=\"\\r\">\\r</span><span class=\"token entity\" title=\"\\e\">\\e</span>[K|%-*s| %3d %% %s\"</span> <span class=\"token string\">\"<span class=\"token variable\">$w</span>\"</span> <span class=\"token string\">\"<span class=\"token variable\">$dots</span>\"</span> <span class=\"token string\">\"<span class=\"token variable\">$p</span>\"</span> <span class=\"token string\">\"<span class=\"token variable\">$*</span>\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\"># test loop</span>\n\n<span class=\"token function-name function\">func_after_exec</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">x</span> <span class=\"token keyword\">in</span> <span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">..</span><span class=\"token number\">100</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span>\n      prog <span class=\"token string\">\"<span class=\"token variable\">$x</span>\"</span>  working<span class=\"token punctuation\">..</span>.\n      <span class=\"token function\">sleep</span> <span class=\"token number\">0.04</span>   <span class=\"token comment\"># do some work here</span>\n  <span class=\"token keyword\">done</span> <span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span>\n  <span class=\"token function\">clear</span>\n  globalIp\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>変換</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># \" を削除</span>\n<span class=\"token assign-left variable\">ip</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> $result <span class=\"token operator\">|</span> jq <span class=\"token string\">'.ip'</span> <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token string\">'s/\"//g'</span><span class=\"token variable\">)</span></span></code></pre></div>\n<h2>Exists チェック</h2>\n<h3>Dir</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">!</span> -d <span class=\"token variable\">$SOME_PATH</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n\n  <span class=\"token keyword\">fi</span></code></pre></div>\n<h3>File</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">!</span> -f <span class=\"token variable\">$SOME_PATH</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n\n  <span class=\"token keyword\">fi</span></code></pre></div>\n<h2>Path</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 現在のPATHを絶対PATHへ</span>\n<span class=\"token builtin class-name\">cd</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">cd</span> <span class=\"token punctuation\">$(</span>dirname $0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">pwd</span><span class=\"token variable\">)</span></span>\n<span class=\"token comment\"># 現在のPATHを絶対PATHへ から移動</span>\n<span class=\"token builtin class-name\">cd</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">cd</span> <span class=\"token punctuation\">$(</span>dirname $0<span class=\"token punctuation\">)</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">pwd</span><span class=\"token variable\">)</span></span></code></pre></div>\n<h2>env ファイル読み込み</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">source</span> ./.env</code></pre></div>\n<h2>ディレクトリ内のファイルをループ</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">file</span> <span class=\"token keyword\">in</span> <span class=\"token string\">\"<span class=\"token variable\">$HTML_DIR</span>\"</span>/*.html<span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span></code></pre></div>\n<h2>ファイル名から拡張子を除去</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">filename</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">basename</span> <span class=\"token string\">\"<span class=\"token variable\">$file</span>\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -f <span class=\"token number\">1</span> -d <span class=\"token string\">'.'</span><span class=\"token variable\">)</span></span></code></pre></div>","frontmatter":{"title":"ShellScript よく使うパターン","date":"February 23, 2022","post_modified":"February 23, 2022","description":"ShellScript ソースコピペ用","tags":["ShellScript"],"draft":false}},"previous":{"fields":{"slug":"/Tools/vim/vim_basic/"},"frontmatter":{"title":"Vim コマンド"}},"next":{"fields":{"slug":"/FrontEnd/REACT/react_typescript_install/"},"frontmatter":{"title":"React.js typescript"}}},"pageContext":{"id":"6b00f73d-2bfc-55e8-9be1-8ea424e8a8e8","previousPostId":"7c1a0f2c-e727-5c9c-8211-76a5305b3e19","nextPostId":"b6e6c1e6-6045-5534-ab2c-d08353a3110b","draft":false}},
    "staticQueryHashes": ["1126706167","1176493165","1188992244","1314910092","1760060771","2772418575","3679674316"]}