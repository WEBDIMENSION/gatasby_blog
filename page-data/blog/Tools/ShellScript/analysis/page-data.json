{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/Tools/ShellScript/analysis/",
    "result": {"data":{"site":{"siteMetadata":{"title":"おっさんWEBエンジニア奮闘記"}},"markdownRemark":{"id":"39ceebc5-e464-5459-b478-cb181d560b69","excerpt":"noexec オプション 実際に実行はしない 構文チェックや DryRun といった振る舞い 構文エラー時は のようなエラー表示 shellcheck Install ubuntu Mac Exec shellcheck source sc.sh エラーなし source sc.sh (echo…","html":"<h2>noexec オプション</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/usr/bin/env bash</span>\n\n<span class=\"token builtin class-name\">set</span> -o noexec</code></pre></div>\n<p>実際に実行はしない<br>\n構文チェックや DryRun といった振る舞い</p>\n<p>構文エラー時は</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">行 <span class=\"token number\">11</span>: 構文エラー: 予期しないファイル終了 <span class=\"token punctuation\">(</span>EOF<span class=\"token punctuation\">)</span> です</code></pre></div>\n<p>のようなエラー表示</p>\n<h2>shellcheck</h2>\n<h3>Install</h3>\n<h4>ubuntu</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> <span class=\"token function\">shellcheck</span></code></pre></div>\n<h4>Mac</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">brew <span class=\"token function\">install</span> <span class=\"token function\">shellcheck</span></code></pre></div>\n<h3>Exec shellcheck</h3>\n<p>source sc.sh</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/usr/bin/env bash</span>\n\n<span class=\"token builtin class-name\">set</span> -o noexec\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token variable\">$1</span> <span class=\"token operator\">==</span> <span class=\"token builtin class-name\">test</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n\t<span class=\"token assign-left variable\">param</span><span class=\"token operator\">=</span><span class=\"token string\">'test'</span>\n<span class=\"token keyword\">else</span>\n\t<span class=\"token assign-left variable\">param</span><span class=\"token operator\">=</span><span class=\"token string\">'not test'</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$param</span>\"</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">shellcheck</span> sc.sh</code></pre></div>\n<p>エラーなし</p>\n<p>source sc.sh (echo ” を外す)</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/usr/bin/env bash</span>\n\n<span class=\"token builtin class-name\">set</span> -o noexec\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token variable\">$1</span> <span class=\"token operator\">==</span> <span class=\"token builtin class-name\">test</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n\t<span class=\"token assign-left variable\">param</span><span class=\"token operator\">=</span><span class=\"token string\">'test'</span>\n<span class=\"token keyword\">else</span>\n\t<span class=\"token assign-left variable\">param</span><span class=\"token operator\">=</span><span class=\"token string\">'not test'</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$param</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">shellcheck</span> sc.sh</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nIn sc.sh line <span class=\"token number\">11</span>:\n<span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$param</span>\n     ^----^ SC2086 <span class=\"token punctuation\">(</span>info<span class=\"token punctuation\">)</span>: Double quote to prevent globbing and word splitting.\n\nDid you mean: \n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$param</span>\"</span>\n\nFor <span class=\"token function\">more</span> information:\n  https://www.shellcheck.net/wiki/SC2086 -- Double quote to prevent globbing <span class=\"token punctuation\">..</span>.</code></pre></div>\n<p>エラーを指摘される。エラーの詳細はリンク先で確認</p>\n<p>Intellij IDEA ではエディタ上で表示してくれる。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1fbbffc22478c3f61a30f5149118f281/83e77/shellscript_analysis.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.84810126582278%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtklEQVQ4y52T626jMBCFeZRKG6Jgg40xtxTCzQR1y6WtqpAo0u7+2Pd/hrMKlCiXSpvkx4c0Bzia4/FonHMMMAYhBBhjCFyGKLDhSQZKKUzTvBlNyABBGGKVJINAKcHCIDAIBSH0S6M3G2s2d+BKCc/z4TgSNhcQXMA0JzPzvg591WH1+RtZGmH5/AzP8QfujXo05FkLUn1ASgYu2BCZEOMs6j1oyzSHjFO4ksELJBizYJrWQ92NkSUHL16wiAr8eHrCTNeh6zpms9mRqda/3p0yn8/P0AzC8POjw6+/f7Dtt+i3PTabDXa73UDfj/V+v0fbtlBKoSxLVFWFJEmwWCxgGMYRjRCCpS9Qv67RdG+omwZ126JuRpquQ/f2PuoHrW2RZTniOEYYhlfD06hpwuE20lWCXJUoVIlcqZFCIc1y5EUBVa6HOssLFGU5aIdFmAyPQzk8pCug1govrzXKdTX8nGYZPM+D7/tXBEGAKI4hXffMcOyQUtiCI1pFSNIMURTBcRxIKf+LfdHhYDhlt7k97LSwbViWhcPZ3sK3hqcXc/roVi53XXv0Ak9cTflUfGTVLiP/A0yM+BnQ30x/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"IntellijIdea shellscript analysis\"\n        title=\"IntellijIdea shellscript analysis\"\n        src=\"/static/1fbbffc22478c3f61a30f5149118f281/f058b/shellscript_analysis.png\"\n        srcset=\"/static/1fbbffc22478c3f61a30f5149118f281/c26ae/shellscript_analysis.png 158w,\n/static/1fbbffc22478c3f61a30f5149118f281/6bdcf/shellscript_analysis.png 315w,\n/static/1fbbffc22478c3f61a30f5149118f281/f058b/shellscript_analysis.png 630w,\n/static/1fbbffc22478c3f61a30f5149118f281/83e77/shellscript_analysis.png 889w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>","frontmatter":{"title":"シェルスクリプト コード解析","date":"April 05, 2022","post_modified":"April 05, 2022","description":"シェルスクリプトの汚いコード、バグになりかねないソースを解析","tags":["ShellScript"],"draft":false}},"previous":{"fields":{"slug":"/FrontEnd/REACT/use-callback/"},"frontmatter":{"title":"React hooks useCallback"}},"next":{"fields":{"slug":"/Tools/ShellScript/debug/"},"frontmatter":{"title":"シェルスクリプトのデバッグでよく使われるOptionのデバッグ"}}},"pageContext":{"id":"39ceebc5-e464-5459-b478-cb181d560b69","previousPostId":"338d3a03-598e-5572-be50-05caa28b308e","nextPostId":"a5a0b2a3-32d2-5aeb-b783-fe2707579039","draft":false}},
    "staticQueryHashes": ["1126706167","1176493165","1188992244","1314910092","1760060771","2772418575","3679674316"]}